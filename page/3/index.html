<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 3 页 | Succw Blog :)</title>
  <meta name="author" content="獨菰、瑉">
  
  <meta name="description" content="运成功者的谦词，命失败者的借口">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Succw Blog :)"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon" type="image/x-ico">
  <link rel="alternate" href="/atom.xml" title="Succw Blog :)" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Succw Blog :)</a></h1>
  <h2 class="subtitle">运成功者的谦词，命失败者的借口。</h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
      <li><a href="/atom.xml">RSS</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2013-04-26T03:10:58.000Z"><a href="/ethtool/">4月 26 2013</a></time>
      
      
  
    <h1 class="title"><a href="/ethtool/">ethtool</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="-span-style-font-size-13px-ethtool-is-the-standard-linux-utility-for-controlling-network-drivers-and-hardware-particularly-for-wired-ethernet-devices-span-"><span style="font-size: 13px;">ethtool is the standard Linux utility for controlling network drivers and hardware, particularly for wired Ethernet devices. </span></h1>
<h1 id="-span-style-font-size-13px-it-can-be-used-to-span-"><span style="font-size: 13px;">It can be used to:</span></h1>
<ul>
<li>Get identification and diagnostic information</li>
<li>Get extended device statistics</li>
<li>Control speed, duplex, autonegotiation and flow control for Ethernet devices</li>
<li>Control checksum offload and other hardware offload features</li>
<li>Control DMA ring sizes and interrupt moderation</li>
<li>Control receive queue selection for multiqueue devices</li>
<li>Upgrade firmware in flash memory
Most features are dependent on support in the specific driver. See the manual page for full information.</li>
</ul>
<h1 id="-"> </h1>
<h1 id="-usage-"><strong>Usage：</strong></h1>
<p>&nbsp;</p>
<h2 id="name">NAME</h2>
<pre>       ethtool - Display or change ethernet card settings</pre>

<h2 id="synopsis">SYNOPSIS</h2>
<pre>       **ethtool** _ethX_

       **ethtool** **-h**

       **ethtool** **-a** _ethX_

       **ethtool** **-A** _ethX_ [**autoneg** **on**|**off**] [**rx** **on**|**off**] [**tx** **on**|**off**]

       **ethtool** **-c** _ethX_

       **ethtool**  **-C** _ethX_ [**adaptive-rx** **on**|**off**] [**adaptive-tx** **on**|**off**] [**rx-usecs** _N_]
       [**rx-frames** _N_] [**rx-usecs-irq** _N_]  [**rx-frames-irq**  _N_]  [**tx-usecs**  _N_]  [**tx-**
       **frames**  _N_]  [**tx-usecs-irq**  _N_]  [**tx-frames-irq**  _N_] [**stats-block-usecs** _N_]
       [**pkt-rate-low** _N_] [**rx-usecs-low** _N_] [**rx-frames-low**  _N_]  [**tx-usecs-low**  _N_]
       [**tx-frames-low**  _N_]  [**pkt-rate-high** _N_] [**rx-usecs-high** _N_] [**rx-frames-high**
       _N_] [**tx-usecs-high** _N_] [**tx-frames-high** _N_] [**sample-interval** _N_]

       **ethtool** **-g** _ethX_

       **ethtool** **-G** _ethX_ [**rx** _N_] [**rx-mini** _N_] [**rx-jumbo** _N_] [**tx** _N_]

       **ethtool** **-i** _ethX_

       **ethtool** **-d** _ethX_ [**raw** **on**|**off**]

       **ethtool** **-e** _ethX_ [**raw** **on**|**off**] [**offset** _N_] [**length** _N_]

       **ethtool** **-E** _ethX_ [**magic** _N_] [**offset** _N_] [**value** _N_]

       **ethtool** **-k** _ethX_

       **ethtool** **-K** _ethX_ [**rx** **on**|**off**] [**tx** **on**|**off**] [**sg** **on**|**off**] [**tso** **on**|**off**]

       **ethtool** **-p** _ethX_ _[_N_]_

       **ethtool** **-r** _ethX_

       **ethtool** **-S** _ethX_

       **ethtool** **-t** _ethX_ [**offline**|**online**]

       **ethtool**     **-s**     _ethX_     [**speed** **10**|**100**|**1000**]      [**duplex** **half**|**full**]
       [**port** **tp**|**aui**|**bnc**|**mii**]  [**autoneg** **on**|**off**] [**phyad** _N_] [**xcvr** **internal**|**exter-**
       **nal**] [**wol** **p**|**u**|**m**|**b**|**a**|**g**|**s**|**d**...]  [**sopass** _xx_**:**_yy_**:**_zz_**:**_aa_**:**_bb_**:**_cc_] [**msglvl** _N_]</pre>

<h2 id="description">DESCRIPTION</h2>
<pre>       **ethtool** is used for querying settings of an ethernet device and  chang-
       ing them.

       _ethX_ is the name of the ethernet device to work on.</pre>

<h2 id="options">OPTIONS</h2>
<p><pre>       <strong>ethtool</strong>  with  a single argument specifying the device name prints cur-
       rent setting of the specified device.</p>
<pre><code>   **-h**     shows a short help message.

   **-a**     queries the specified ethernet device for pause parameter infor-
          mation.

   **-A**     change the pause parameters of the specified ethernet device.

   **autoneg** **on**|**off**
          Specify if pause autonegotiation is enabled.

   **rx** **on**|**off**
          Specify if RX pause is enabled.

   **tx** **on**|**off**
          Specify if TX pause is enabled.

   **-c**     queries  the  specified  ethernet device for coalescing informa-
          tion.

   **-C**     change the coalescing settings of the specified ethernet device.

   **-g**     queries  the  specified ethernet device for rx/tx ring parameter
          information.

   **-G**     change the rx/tx  ring  parameters  of  the  specified  ethernet
          device.

   **rx** _N_   Change number of ring entries for the Rx ring.

   **rx-mini** _N_
          Change number of ring entries for the Rx Mini ring.

   **rx-jumbo** _N_
          Change number of ring entries for the Rx Jumbo ring.

   **tx** _N_   Change number of ring entries for the Tx ring.

   **-i**     queries  the  specified  ethernet  device  for associated driver
          information.

   **-d**     retrieves and prints a register dump for the specified  ethernet
          device.   When  raw  is  enabled, then it dumps the raw register
          data to stdout.

   **-e**     retrieves and prints an EEPROM dump for the  specified  ethernet
          device.   When raw is enabled, then it dumps the raw EEPROM data
          to stdout. The length and offset parameters allow  dumping  cer-
          tain portions of the EEPROM.  Default is to dump the entire EEP-
          ROM.

   **-E**     Changes EEPROM byte for the specified ethernet  device.   offset
          and value specify which byte and it’s new value.  Because of the
          persistent nature of writing to the  EEPROM,  a  device-specific
          magic key must be specified to prevent the accidental writing to
          the EEPROM.

   **-k**     queries the specified ethernet device for offload information.

   **-K**     change the offload parameters of the specified ethernet  device.

   **rx** **on**|**off**
          Specify if RX checksumming is enabled.

   **tx** **on**|**off**
          Specify if TX checksumming is enabled.

   **sg** **on**|**off**
          Specify if scatter-gather is enabled.

   **tso** **on**|**off**
          Specify if tcp segmentation offload is enabled.

   **-p**     initiates adapter-specific action intended to enable an operator
          to  easily  identify  the  adapter  by  sight.   typically  this
          involves  blinking  one  or  more  LEDs on the specific ethernet
          port.

   **N**      Length of time to perform phys-id, in seconds.

   **-r**     restarts auto-negotiation on the specified ethernet  device,  if
          auto-negotiation is enabled.

   **-S**     queries  the  specified ethernet device for NIC- and driver-spe-
          cific statistics.

   **-t**     executes adapter selftest on the specified ethernet device. Pos-
          sible test modes are:

   **offline**|**online**
          defines  test  type: **offline** (default) means to perform full set
          of tests possibly causing normal operation  interruption  during
          the  tests,  **online** means to perform limited set of tests do not
          interrupting normal adapter operation.

   **-s**     option allows changing some or all  settings  of  the  specified
          ethernet  device.   All  following  options only apply if **-s** was
          specified.

   **speed** **10**|**100**|**1000**
          Set speed in Mb/s.  **ethtool** with single argument will  show  you
          the supported device speeds.

   **duplex** **half**|**full**
          Set full or half duplex mode.

   **port** **tp**|**aui**|**bnc**|**mii**
          Select device port.

   **autoneg** **on**|**off**
          Specify  if autonegotiation is enabled. In the usual case it is,
          but might cause some problems with some network devices, so  you
          can turn it off.

   **phyad** _N_
          PHY address.

   **xcvr** **internal**|**external**
          Select  transceiver  type.  Currently only internal and external
          can be specified, in the future further types might be added.

   **wol** **p**|**u**|**m**|**b**|**a**|**g**|**s**|**d**...
          Set Wake-on-LAN options.  Not all  devices  support  this.   The
          argument  to  this  option  is a string of characters specifying
          which options to enable.
          **p**  Wake on phy activity
          **u**  Wake on unicast messages
          **m**  Wake on multicast messages
          **b**  Wake on broadcast messages
          **a**  Wake on ARP
          **g**  Wake on MagicPacket(tm)
          **s**  Enable SecureOn(tm) password for MagicPacket(tm)
          **d**  Disable (wake on nothing).  This option clears  all  previous
             options.

   **sopass** _xx_**:**_yy_**:**_zz_**:**_aa_**:**_bb_**:**_cc_
          Set the SecureOn(tm) password.  The argument to this option must
          be 6 bytes in ethernet MAC hex format (_xx_**:**_yy_**:**_zz_**:**_aa_**:**_bb_**:**_cc_).

   **msglvl** _N_
          Set the driver message level. Meanings differ per driver.&lt;/pre&gt;
</code></pre><p>&nbsp;</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2013-04-26T03:03:10.000Z"><a href="/which-vmware-network-settings-to-adjust-to-troubleshoot-vm-packet-loss/">4月 26 2013</a></time>
      
      
  
    <h1 class="title"><a href="/which-vmware-network-settings-to-adjust-to-troubleshoot-vm-packet-loss/">Which VMware network settings to adjust to troubleshoot VM packet loss</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Even well-designed <a href="http://searchnetworking.techtarget.com/tip/vSphere-networking-tools-Gaining-control-of-virtualization" target="_blank">VMware networking</a> will encounter virtualization-specific problems, like high packet loss in a virtual machine. Appropriate tweaks to the VMware network settings can resolve high packet loss without troubleshooting the guest operating system.</p>
<p>A normal <a href="http://searchnetworking.techtarget.com/definition/Ethernet" target="_blank">Ethernet network connector</a> should rarely let numerous packets drop ?there should be no more than a few dropped packets for every 100,000 packets received or transmitted successfully (Figure 1). On a Linux virtual machine (<a href="http://searchservervirtualization.techtarget.com/definition/virtual-machine" target="_blank">VM</a>), this statistic is easily monitored with the ifconfig command.</p>
<p><div><a href="http://cdn.ttgtmedia.com/rms/onlineImages/0413_svm_packetloss-1.png" target="_blank"><img src="http://cdn.ttgtmedia.com/rms/onlineImages/0413_svm_packetloss-1.png" alt=""></a></p>
<div>

<p>Figure 1. Normally, hardly any packets should drop on an Ethernet network card.</p>
<p></div>
</div>
On a VM with a <a href="http://searchnetworking.techtarget.com/definition/burst" target="_blank">bursty network</a> traffic pattern, significant packet loss may occur, requiring a fix within the VM&#39;s network settings. First, verify that the VM uses the VMXNET3 driver for the virtual network card. If this is the case, on a Linux host, high packet loss occurs when large data files are sent over high-bandwidth networks, and in certain other situations. Remediate the situation by disabling receive and transmit checksums. You&#39;ll add risk, as these checksums normally close out erroneous packets. Since errors on a typical Ethernet network card are below one on a million, the risk level is low.</p>
<p>Use the <a href="http://searchenterpriselinux.techtarget.com/Linux-tools" target="_blank">Linux ethtool utility</a> to switch off receive and transmit checksums in the VMware network settings, starting with ethtool as root from the command line. To switch these checksum features off for the network card eth0, for example, the command would readethtool --offload eth0 rx off tx off. If this works, open the configuration file for your network card -- /etc/sysconfig/network/ifcfg-eth0 on SUSE or /etc/sysconfig/network-scripts/ifcfg-eth0 on Red Hat -- and change the ETHTOOL_OPTIONS parameter to ETHTOOL_OPTIONS=&#39;--offload eth0 rx off tx off&#39;.</p>
<p>If you&#39;re still troubleshooting packet loss, try increasing the receive ring buffer size via the ethtool utility. By default, this buffer is set to 256, but the maximum you can use is 4096. Reset the ring buffer size to 512, using ethtool -G eth0 512. If this doesn&#39;t give you the required result, try a higher value.</p>
<p>High packet loss on a Windows VM calls for a change to network settings on the VMXNET3 driver. From Device Manager, right click the VMXNET3 driver and select Properties. The Advanced tab has two parameters: Small RX Buffers and RX Ring #1 Size. Increase the value of these parameters a bit and test whether this yields any improvement. Incrementally increase the value until you resolve the loss.</p>
<p>In most cases, these fixes will decrease the number of packets dropped in virtual machines. If adjusting the network settings fails, you&#39;re probably facing another problem caused by other performance-related factors in the VM, not the VMware network settings between the VM and ESXi platform. Consult an expert in the guest operating system, as there are many parameters that you can tune for performance. Beware of tuning the wrong parameters, which could have a strong negative impact on the VM.</p>
<p>摘自：<a href="http://searchvmware.techtarget.com/" target="_blank"><a href="http://searchvmware.techtarget.com">http://searchvmware.techtarget.com</a></a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2013-04-26T02:47:40.000Z"><a href="/vmware-capacity-planner-vcp/">4月 26 2013</a></time>
      
      
  
    <h1 class="title"><a href="/vmware-capacity-planner-vcp/">VMware Capacity Planner (VCP)</a></h1>
  

    </header>
    <div class="entry">
      
        <p>VMware Capacity Planner is a tool that collects information on an IT infrastructure&#39;s resource usage and compares it to industry-average data.</p>
<p>VMware and its partners offer the Capacity Planner as a service to help IT departments plan virtualization deployments and optimize hardware resources such as <a href="http://whatis.techtarget.com/definition/server" target="_blank">servers</a> and <a href="http://searchstorage.techtarget.com/definition/storage" target="_blank">storage</a>. VMware Capacity Planner can help an organization determine what server consolidation rates it will achieve with <a href="http://searchservervirtualization.techtarget.com/definition/virtualization" target="_blank">virtualization</a>, and discover ways to standardize and reduce the hardware footprint in a <a href="http://searchdatacenter.techtarget.com/definition/data-center" target="_blank">data center</a>. The tool also discovers capacity utilization trends and can help set benchmarks.</p>
<p>VMware trains partners on VMware Capacity Planner, and the product is free to these authorized users. Main competitors to the tool include VKernel&#39;s Capacity Analyzer and Tek-Tools&#39; Profiler Suite. IT shops that want to avoid partnering on their capacity assessment can use a less-powerful tool from VMware: vCenter Guided Consolidation.</p>
<p>摘自：<a href="http://searchvmware.techtarget.com/" target="_blank"><a href="http://searchvmware.techtarget.com">http://searchvmware.techtarget.com</a></a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/page/2/" class="alignleft prev">上一页</a>
  
  
    <a href="/page/4/" class="alignright next">下一页</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:www.succw.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/Life/">Life</a><small>2</small></li>
  
    <li><a href="/categories/VMware/">VMware</a><small>7</small></li>
  
    <li><a href="/categories/other/">other</a><small>2</small></li>
  
    <li><a href="/categories/运维/">运维</a><small>10</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/vcap510/">VCAP510</a>
      </li>
    
      <li>
        <a href="/installing-update-manager-fails-with-error-error-1406/">Installing Update Manager fails with error: error 1406</a>
      </li>
    
      <li>
        <a href="/removing-unwanted-plug-ins-from-vcenter-server/">从vCenter Server中删除不必要的插件</a>
      </li>
    
      <li>
        <a href="/linux下cdrecord刻录光盘/">linux下cdrecord刻录光盘</a>
      </li>
    
      <li>
        <a href="/配置-windows-ntp-客户端以实现网络时钟同步/">配置 Windows NTP 客户端以实现网络时钟同步</a>
      </li>
    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/Linux/">Linux</a><small>8</small></li>
  
    <li><a href="/tags/VMware/">VMware</a><small>9</small></li>
  
    <li><a href="/tags/Windows/">Windows</a><small>2</small></li>
  
    <li><a href="/tags/音乐/">音乐</a><small>2</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 獨菰、瑉
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>