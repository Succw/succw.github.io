<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Succw Blog :)]]></title>
  <subtitle><![CDATA[运成功者的谦词，命失败者的借口。]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://www.succw.com/"/>
  <updated>2014-03-12T12:27:37.552Z</updated>
  <id>http://www.succw.com/</id>
  
  <author>
    <name><![CDATA[獨菰、瑉]]></name>
    <email><![CDATA[tivon.su@gmail.com]]></email>
  </author>
  
  <generator uri="http://zespia.tw/hexo/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Windows Server 2003下安装PHP]]></title>
    <link href="http://www.succw.com/windows-server-2003%E4%B8%8B%E5%AE%89%E8%A3%85php/"/>
    <id>http://www.succw.com/windows-server-2003下安装php/</id>
    <published>2014-03-12T12:26:20.000Z</published>
    <updated>2014-03-12T12:27:14.000Z</updated>
    <content type="html"><![CDATA[<h5 id="windows-server-2003-php-mssql2000-">Windows Server 2003下安装PHP （ +mssql2000 ）</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>IIS6
[<span class="link_label">PHP 5.2.17</span>](<span class="link_url">http://windows.php.net/downloads/releases/php-5.2.17-nts-Win32-VC6-x86.zip</span>)
[<span class="link_label">FastCGI</span>](<span class="link_url">http://www.iis.net/downloads/microsoft/fastcgi-for-iis</span>)
MSSQL 2000
</pre></td></tr></table></figure>

<hr>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre>Windows PHP 各个版本：
[<span class="link_label">http://windows.php.net/downloads/releases/</span>](<span class="link_url">http://windows.php.net/downloads/releases/</span>)

FastCGI相关文件和路径 ：
C:\WINDOWS\system32\inetsrv\fcgiext.dll
C:\WINDOWS\system32\inetsrv\fcgiext.ini
</pre></td></tr></table></figure>

<h6 id="-php-ini">更改php.ini</h6>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>PHP开启支持FastCGI
cgi<span class="preprocessor">.force</span>_redirect = <span class="number">0</span>
cgi<span class="preprocessor">.fix</span>_pathinfo = <span class="number">1</span>
fastcgi<span class="preprocessor">.impersonate</span>=<span class="number">1</span>
</pre></td></tr></table></figure>

<h6 id="php-ini-">php.ini通用设置：</h6>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="code"><pre><span class="constant">short_open_tag</span> = On  
<span class="constant">error_reporting</span> = E_ALL & ~E_NOTICE     
<span class="constant">post_max_size</span> = 16M        
<span class="constant">extension_dir</span> = "c:\php5\ext"      
<span class="constant">upload_tmp_dir</span> = "D:\php_upload"        上传的临时目录，自己建立目录，权限设定为：Administrators（完全控制）、System（完全控制）、IIS_WPG（读取和写入和删除）、ISUR_你的机器名（读取和写入和删除）  
<span class="constant">upload_max_filesize</span> = 20M        
<span class="constant">max_file_uploads</span> = 40        
<span class="constant">extension</span>=php_bz2.dll      
<span class="constant">extension</span>=php_curl.dll  
<span class="constant">extension</span>=php_gd2.dll  
<span class="constant">extension</span>=php_mbstring.dll  
<span class="constant">extension</span>=php_mcrypt.dll  
<span class="constant">extension</span>=php_mssql.dll   #开启支持mssql
<span class="constant">extension</span>=php_mysql.dll  
<span class="constant">extension</span>=php_mysqli.dll  
<span class="constant">extension</span>=php_zip.dll  
date.timezone = Asia/Shanghai    
session.save_path = "D:\php_session"
</pre></td></tr></table></figure>

<h6 id="-fcgiext-ini">更改fcgiext.ini</h6>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre>FastCGI开启支持php [ 追加下代码： ]
[Types]
php=[PHP]
ExePath=c:\php5\php-cgi.exe
<span class="preprocessor">#InstanceMaxRequests=10000</span>
<span class="preprocessor">#ActivityTimeout=600</span>
<span class="preprocessor">#RequestTimeout=600</span>
<span class="preprocessor">#EnvironmentVars=PHP_FCGI_MAX_REQUESTS:10000,PHPRC:C:\php5\</span>
</pre></td></tr></table></figure>

<h6 id="iis6-">IIS6配置相关：</h6>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre>
右键 -&gt; 属性 -&gt; 主目录 -&gt; 配置 -&gt; 添加 -&gt;可执行文件写上：
<span class="constant">C</span><span class="symbol">:/WINDOWS/system32/inetsrv/fcgiext</span>.dll，扩展名写上：.php，动作限制为：<span class="constant">GET</span>,<span class="constant">HEAD</span>,<span class="constant">POST</span>,<span class="constant">TRACE</span>


测试你的配置环境<span class="symbol">:</span>
&lt;?php
phpinfo();
?&gt;
</pre></td></tr></table></figure>

<h5 id="php-5-4-26-mssql-2000-">php 5.4.26 + mssql 2000 方式与上有所不同。</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre>官方在5.3之前提供mssql驱动。之后则需要第三方驱动。

<span class="strong">**微软官方 （sqlsrv_）：**</span>
[<span class="link_label">http://docs.moodle.org/20/en/Using_the_Microsoft_SQL_Server_Driver_for_PHP</span>](<span class="link_url">http://docs.moodle.org/20/en/Using_the_Microsoft_SQL_Server_Driver_for_PHP</span>)

<span class="strong">** FreeTDS (php_dblib.dll )**</span>
详细安装下链接：
[<span class="link_label">http://docs.moodle.org/20/en/Installing_MSSQL_for_PHP</span>](<span class="link_url">http://docs.moodle.org/20/en/Installing_MSSQL_for_PHP</span>)

<span class="strong">** php**</span>
google上还找到了一个php提供php5.4.26驱动:
链接在此：[<span class="link_label">http://downloads.php.net/pierre/sqlsrv-5.4-nts-snap.zip</span>](<span class="link_url">http://downloads.php.net/pierre/sqlsrv-5.4-nts-snap.zip </span>)
</pre></td></tr></table></figure>

<hr>
<p>参考链接：</p>
<h6 id="connect-php-with-mssql-while-using-iis">connect php with mssql while using iis</h6>
<p><a href="http://stackoverflow.com/questions/13859282/connect-php-with-mssql-while-using-iis" target="_blank">http://stackoverflow.com/questions/13859282/connect-php-with-mssql-while-using-iis</a>
<a href="http://docs.moodle.org/20/en/Using_the_Microsoft_SQL_Server_Driver_for_PHP" target="_blank">http://docs.moodle.org/20/en/Using_the_Microsoft_SQL_Server_Driver_for_PHP</a></p>
<h6 id="windows-php-">windows php编译配置：</h6>
<p><a href="https://wiki.php.net/internals/windows/stepbystepbuild" target="_blank">https://wiki.php.net/internals/windows/stepbystepbuild</a></p>
]]></content>
    
    
      <category term="php" scheme="http://www.succw.com/tags/php/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[KVM虚拟化技术笔记]]></title>
    <link href="http://www.succw.com/kvm%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"/>
    <id>http://www.succw.com/kvm虚拟化技术笔记/</id>
    <published>2014-02-21T03:33:08.000Z</published>
    <updated>2014-02-21T03:51:10.000Z</updated>
    <content type="html"><![CDATA[<h5 id="kvm-">KVM虚拟化技术笔记</h5>
<p>记录《KVM虚拟化技术：实战与原理解析》书中相关知识点。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>taskset
cpu亲和力设置。
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre>查看kvm是否开启内存硬件技术
cat /sys/<span class="class"><span class="keyword">module</span>/<span class="title">kvm_intel</span>/<span class="title">parameters</span>/<span class="title">ept</span></span>
cat /sys/<span class="class"><span class="keyword">module</span>/<span class="title">kvm_intel</span>/<span class="title">parameters</span>/<span class="title">vpid</span></span>

modprobe kvm_intel ept=<span class="number">0</span>,vpid=<span class="number">0</span>
rmmod kvm_intel
modprobe kvm_inter ept=<span class="number">1</span>,vpid=<span class="number">1</span>
不要关闭，否则内存访问性能会下降
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre>内存HUGEPAGE配置
getconf PAGESIZE
cat /proc/meminfo<span class="subst">|</span>grep  Hugepagesize
mount <span class="attribute">-t</span> hugetlbfs hugetlbfs /dev/hugepages
sysctl vm<span class="built_in">.</span>nr_hugepages<span class="subst">=</span>num

qemu<span class="attribute">-system</span><span class="attribute">-x86_64</span> <span class="attribute">-m</span> <span class="number">1024</span> <span class="attribute">-smp</span> <span class="number">2</span> fedora<span class="built_in">.</span>img <span class="attribute">-mem</span><span class="attribute">-path</span> /dev/hugepages

对于内存密集性内存来说，使用hugepage会带来性能提升。
hugepage缺点，内存不能被swap out，也不能使用ballooning。
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>qemu<span class="attribute">-system</span><span class="attribute">-x86_64</span> <span class="attribute">-m</span> <span class="number">1024</span> fedora<span class="built_in">.</span>img <span class="attribute">-enable</span><span class="attribute">-kvm</span> <span class="attribute">-vnc</span> :<span class="number">1</span>,password <span class="attribute">-monitor</span> stdio
修改vnc密码
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>vncviewer <span class="attribute">-listen</span> :<span class="number">2</span>
qemu<span class="attribute">-system</span><span class="attribute">-x86_64</span> <span class="attribute">-m</span> <span class="number">1024</span> fedora<span class="built_in">.</span>img <span class="attribute">-enable</span><span class="attribute">-kvm</span> <span class="attribute">-vnc</span> <span class="number">192.168</span><span class="number">.0</span><span class="number">.2</span>:<span class="number">5500</span>,reverse
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>vnc鼠标偏移问题
<span class="attribute">-usb</span> <span class="attribute">-usbdevice</span> tablet
<span class="literal">or</span>
<span class="attribute">-device</span> piix3<span class="attribute">-usb</span><span class="attribute">-uhci</span> <span class="attribute">-device</span> usb<span class="attribute">-tablet</span>
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>Redhat文档介绍，单纯使用virtio_net驱动得到的性能依然不佳，可以检查宿主机系统中对GSO和TSO特性的设置，关闭GSO和TSO可以使性能更加优化
ethtool <span class="attribute">-K</span> em1 gso off
ethtool <span class="attribute">-K</span> em1 tso off
ethtool <span class="attribute">-k</span> em1
</pre></td></tr></table></figure>

<p>vhost_net后端处理程序（内核空间）</p>
<p><code>-net tap,[,vnet_hdr=on|off][,vhost=on|off][,vhostfd=h][,vhostforce=on|off]</code></p>
<p>查看硬盘UUID</p>
<p><code>blkid /dev/vda1</code></p>
<p>or</p>
<p><code>tune2fs -l /dev/vda1</code></p>
<p>在修改磁盘驱动时，可能会导致swap失效。</p>
<p>kvm-clock : <code>-cpu host</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>IOMMU,如果内核默认没有打开。
在kernel行，inter_iommu=<span class="command"><span class="keyword">on</span></span>
</pre></td></tr></table></figure>



<h6 id="-cgroup-">通过cgroup控制客户机的资源使用</h6>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre>yum install libcgroup*
mkdir -p /cgroup/blkio
mount -t cgroup -o blkio blkio /cgroup/blkio
mkdir /cgroup/blkio/high_prio
mkdir /cgroup/blkio/low_prio

mount -t cgroup -o cpu,cpuset,memorycpu_mem /cgroup/cpu_mem

echo <span class="variable">$pid</span> &gt;&gt; <span class="regexp">/cgroup/blkio</span><span class="regexp">/high_prio/tasks</span>
echo <span class="variable">$pid</span> &gt;&gt; <span class="regexp">/cgroup/blkio</span><span class="regexp">/low_prio/tasks</span>

echo <span class="number">1000</span> &gt; <span class="regexp">/cgroup/blkio</span><span class="regexp">/high_prio/blkio</span>.weight
echo <span class="number">100</span> &gt; <span class="regexp">/cgroup/blkio</span><span class="regexp">/low_prio/blkio</span>.weight
</pre></td></tr></table></figure>

]]></content>
    
    
      <category term="KVM" scheme="http://www.succw.com/tags/KVM/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[libvirt编译安装]]></title>
    <link href="http://www.succw.com/libvirt%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/"/>
    <id>http://www.succw.com/libvirt编译安装/</id>
    <published>2014-02-21T03:29:52.000Z</published>
    <updated>2014-02-24T07:51:00.000Z</updated>
    <content type="html"><![CDATA[<h5 id="-libvirt">编译安装libvirt</h5>
<p>具体操作见官方文档：</p>
<p><strong>安装环境Fedora18 </strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre>wget http:<span class="comment">//libvirt.org/sources/libvirt-1.2.1.tar.gz</span>
tar xvf libvirt<span class="subst">-</span><span class="number">1.2</span><span class="number">.1</span><span class="built_in">.</span>tar<span class="built_in">.</span>gz
cd libvirt<span class="subst">-</span><span class="number">1.2</span><span class="number">.1</span>
<span class="built_in">.</span>/autogen<span class="built_in">.</span>sh <span class="subst">--</span><span class="keyword">with</span><span class="attribute">-storage</span><span class="attribute">-gluster</span> <span class="subst">--</span><span class="keyword">with</span><span class="attribute">-storage</span><span class="attribute">-rbd</span> <span class="subst">--</span><span class="keyword">with</span><span class="attribute">-gnutls</span> <span class="subst">--</span><span class="keyword">with</span><span class="attribute">-ssh2</span> <span class="subst">--</span><span class="keyword">with</span><span class="attribute">-glusterfs</span> <span class="subst">--</span><span class="keyword">with</span><span class="attribute">-numactl</span> 
make
make install
</pre></td></tr></table></figure>

<p>记录下我编译时所需安装包。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>yum install yajl<span class="attribute">-deve</span> autoconf automake libtool xz<span class="attribute">-devel</span> libxml2<span class="attribute">-devel</span> systemd<span class="attribute">-devel</span> libsepol<span class="attribute">-devel</span> libselinux<span class="attribute">-devel</span> device<span class="attribute">-mapper</span><span class="attribute">-devel</span> libpciaccess<span class="attribute">-devel</span> libnl<span class="attribute">-devel</span>
yum install glusterfs<span class="attribute">-api</span><span class="attribute">-devel</span> glusterfs<span class="attribute">-api</span> glusterfs<span class="attribute">-devel</span> gnutls<span class="attribute">-devel</span> numactl<span class="attribute">-devel</span> libssh2<span class="attribute">-devel</span>
</pre></td></tr></table></figure>

<p>[root@localhost ~]# libvirtd --version
libvirtd (libvirt) 1.2.1</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>
启动libvirtd程序
</pre></td></tr></table></figure>

<p>[root@localhost ~]# /usr/local/sbin/libvirt -d -l</p>
<p>```</p>
]]></content>
    
    
      <category term="KVM" scheme="http://www.succw.com/tags/KVM/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ubuntu下安装subversion客户端]]></title>
    <link href="http://www.succw.com/svn/"/>
    <id>http://www.succw.com/svn/</id>
    <published>2014-01-26T11:18:19.000Z</published>
    <updated>2014-02-21T03:49:56.000Z</updated>
    <content type="html"><![CDATA[<h5 id="ubuntu-subversion-">ubuntu下安装subversion客户端:</h5>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>sudo apt<span class="attribute">-get</span> install subversion subversion<span class="attribute">-tools</span>
</pre></td></tr></table></figure>

<p>详细请看<a href="http://www.subversion.org.cn/svnbook/1.1/index.html" target="_blank"> <a href="http://www.subversion.org.cn/svnbook/1.1/index.html">http://www.subversion.org.cn/svnbook/1.1/index.html</a></a> svn子命令</p>
<p>1、<strong>检出</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre><span class="comment">svn</span>  <span class="comment">co</span>  <span class="comment">http://路径(目录或文件的全路径)　</span><span class="title">[</span><span class="comment">本地目录全路径</span><span class="title">]</span>  <span class="literal">-</span><span class="literal">-</span><span class="comment">username</span> <span class="comment">用户名</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">password</span> <span class="comment">密码</span>
<span class="comment">svn</span>  <span class="comment">co</span>  <span class="comment">svn://路径(目录或文件的全路径)　</span><span class="title">[</span><span class="comment">本地目录全路径</span><span class="title">]</span>  <span class="literal">-</span><span class="literal">-</span><span class="comment">username</span> <span class="comment">用户名</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">password</span> <span class="comment">密码</span>
<span class="comment">svn</span>  <span class="comment">checkout</span>  <span class="comment">http://路径(目录或文件的全路径)　</span><span class="title">[</span><span class="comment">本地目录全路径</span><span class="title">]</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">username　用户名</span>
<span class="comment">svn</span>  <span class="comment">checkout</span>  <span class="comment">svn://路径(目录或文件的全路径)　</span><span class="title">[</span><span class="comment">本地目录全路径</span><span class="title">]</span>  <span class="literal">-</span><span class="literal">-</span><span class="comment">username　用户名</span>
</pre></td></tr></table></figure>

<p><em>注：如果不带--password 参数传输密码的话，会提示输入密码，建议不要用明文的--password 选项
。其中 username 与 password前是两个短线，不是一个。不指定本地目录全路径，则检出到当前目
录下</em>。</p>
<p>例子：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>svn co svn://<span class="number">192.168</span><span class="number">.0</span><span class="number">.3</span>/测试工具 /home/testtools <span class="comment">--username wzhnsc</span>
svn co <span class="keyword">http</span>://<span class="number">192.168</span><span class="number">.0</span><span class="number">.3</span>/test/testapp <span class="comment">--username wzhnsc</span>
svn checkout svn://<span class="number">192.168</span><span class="number">.0</span><span class="number">.3</span>/测试工具 /home/testtools <span class="comment">--username wzhnsc</span>
svn checkouthttp://<span class="number">192.168</span><span class="number">.0</span><span class="number">.3</span>/test/testapp <span class="comment">--username wzhnsc</span>
</pre></td></tr></table></figure>

<p><strong>2、导出(导出一个干净的不带.svn文件夹的目录树)</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>svn  <span class="keyword">export</span>  [-r 版本号]  http:<span class="comment">//路径(目录或文件的全路径) [本地目录全路径]　--username　用户名</span>
svn  <span class="keyword">export</span>  [-r 版本号]  svn:<span class="comment">//路径(目录或文件的全路径) [本地目录全路径]　--username　用户名</span>
svn  <span class="keyword">export</span>  本地检出的(即带有.svn文件夹的)目录全路径  要导出的本地目录全路径
</pre></td></tr></table></figure>

<p><em>注：第一种从版本库导出干净工作目录树的形式是指定URL，如果指定了修订版本号，会导出相应的
版本，如果没有指定修订版本，则会导出最新的，导出到指定位置。如果省略 本地目录全路径，URL
的最后一部分会作为本地目录的名字。第二种形式是指定 本地检出的目录全路径 到 要导出的本地目
录全路径，所有的本地修改将会保留，但是不在版本控制下(即没提交的新文件，因为.svn文件夹里没
有与之相关的信息记录)的文件不会拷贝。</em></p>
<p>例子：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>svn exportsvn:<span class="comment">//192.168.0.3/测试工具 /home/testtools --username wzhnsc</span>
svn exporthttp:<span class="comment">//192.168.0.3/test/testapp --username wzhnsc</span>
svn <span class="keyword">export</span>/home/testapp /home/testtools
</pre></td></tr></table></figure>

<p>3、<strong>添加新文件 </strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre>svn　<span class="keyword">add</span>　文件名
*注：告诉SVN服务器要添加文件了，还要用svn commint -m真实的上传上去！

例子：*
svn <span class="keyword">add</span> test<span class="preprocessor">.php</span> ＜－ 添加test<span class="preprocessor">.php</span> 
svn commit -m “添加我的测试用test<span class="preprocessor">.php</span>“ test<span class="preprocessor">.php</span>
svn <span class="keyword">add</span> *<span class="preprocessor">.php</span> ＜－ 添加当前目录下所有的php文件
svn commit -m “添加我的测试用全部php文件“ *<span class="preprocessor">.php</span>
</pre></td></tr></table></figure>

<p><strong>4、提交</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre>svn　<span class="operator"><span class="keyword">commit</span>　-m　“提交备注信息文本“　[-N]　[--<span class="keyword">no</span>-unlock]　文件名
svn　ci　-m　“提交备注信息文本“　[-N]　[--<span class="keyword">no</span>-unlock]　文件名

<span class="string">`必须带上-m参数，参数可以为空，但是必须写上-m`</span>

例子：
svn <span class="keyword">commit</span> -m “提交当前目录下的全部在版本控制下的文件“ * ＜－ 注意这个*表示全部文件
svn <span class="keyword">commit</span> -m “提交我的测试用test.php“ test.php
svn <span class="keyword">commit</span> -m “提交我的测试用test.php“ -N --<span class="keyword">no</span>-unlock test.php ＜－ 保持锁就用–<span class="keyword">no</span>-unlock开关
svn ci -m “提交当前目录下的全部在版本控制下的文件“ * ＜－ 注意这个*表示全部文件
svn ci -m “提交我的测试用test.php“ test.php
svn ci -m “提交我的测试用test.php“ -N --<span class="keyword">no</span>-unlock test.php ＜－ 保持锁就用–<span class="keyword">no</span>-unlock开关</span>
</pre></td></tr></table></figure>

<p><strong>5、更新文件</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre>svn　<span class="operator"><span class="keyword">update</span>
svn　<span class="keyword">update</span>　-r　修正版本　文件名
svn　<span class="keyword">update</span>　文件名

例子：
svn <span class="keyword">update</span> ＜－ 后面没有目录，默认将当前目录以及子目录下的所有文件都更新到最新版本
svn <span class="keyword">update</span> -r <span class="number">200</span> test.cpp ＜－ 将版本库中的文件 test.cpp 还原到修正版本（revision）<span class="number">200</span>
svn <span class="keyword">update</span> test.php ＜－ 更新与版本库同步。</span>
</pre></td></tr></table></figure>

<p><em>
提交的时候提示过期冲突，需要先 update 修改文件，</em>
然后清除svn resolved，最后再提交commit。</p>
<p><strong>6、删除文件</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre>svn　<span class="keyword">delete</span>　svn:<span class="comment">//路径(目录或文件的全路径) -m “删除备注信息文本”</span>

推荐如下操作：
svn　<span class="keyword">delete</span>　文件名 
svn　ci　-m　“删除备注信息文本”

例子：
svn <span class="keyword">delete</span> svn:<span class="comment">//192.168.1.1/testapp/test.php -m “删除测试文件test.php”</span>

推荐如下操作：
svn <span class="keyword">delete</span> test.php 
svn ci -m “删除测试文件test.php”
</pre></td></tr></table></figure>

<p><strong>７、加锁/解锁 </strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre>svn　lock　-m　“加锁备注信息文本“　[--force]　文件名 
svn　unlock　文件名

例子：
svn lock -m “锁信测试用test<span class="preprocessor">.php</span>文件“ test<span class="preprocessor">.php</span> 
svn unlock test<span class="preprocessor">.php</span>
</pre></td></tr></table></figure>

<p><strong>8、比较差异 </strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>svn　diff　文件名 
svn　diff　<span class="attribute">-r</span>　修正版本号m:修正版本号n　文件名
</pre></td></tr></table></figure>

<p>例子：
svn diff test.php＜－ 将修改的文件与基础版本比较
svn diff -r 200:201 test.php＜－ 对 修正版本号200 和 修正版本号201 比较差异</p>
<p><strong>9、查看文件或者目录状态</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>svn st 目录路径<span class="subst">/</span>名
svn status 目录路径<span class="subst">/</span>名＜－ 目录下的文件和子目录的状态，正常状态不显示

svn  <span class="attribute">-v</span> 目录路径<span class="subst">/</span>名
svn status <span class="attribute">-v</span> 目录路径<span class="subst">/</span>名＜－ 显示文件和子目录状态
</pre></td></tr></table></figure>

<p><em>
注：svn status、svn diff和 svn revert这三条命令在没有网络的情况下也可以执行的，原因是svn在本地的.svn中保留了本地版本的原始拷贝
</em></p>
<p><strong>10、查看日志</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>svn　<span class="keyword">log</span>　文件名

例子：
svn <span class="keyword">log</span> test.php＜－ 显示这个文件的所有修改记录，及其版本号的变化
</pre></td></tr></table></figure>

<p><strong>11、查看文件详细信息</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre><span class="title">svn</span>　<span class="built_in">info</span>　文件名

例子：
svn <span class="built_in">info</span> test.php
</pre></td></tr></table></figure>

<p><strong>12、SVN 帮助</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>svn　<span class="built_in">help</span> ＜－ 全部功能选项
svn　<span class="built_in">help</span>　ci ＜－ 具体功能的说明
</pre></td></tr></table></figure>

<p><strong>13、查看版本库下的文件和目录列表 </strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre>svn　<span class="keyword">list</span>　svn:<span class="comment">//路径(目录或文件的全路径)</span>
svn　ls　svn:<span class="comment">//路径(目录或文件的全路径)</span>

例子：
svn <span class="keyword">list</span> svn:<span class="comment">//192.168.0.3/test</span>
svn ls svn:<span class="comment">//192.168.0.3/test ＜－ 显示svn://192.168.0.3/test目录下的所有属于版本库的文件和目录</span>
</pre></td></tr></table></figure>

<p><strong>14、创建纳入版本控制下的新目录</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="code"><pre>svn　mkdir　目录名
svn　mkdir　-m　<span class="string">"新增目录备注文本"</span>　<span class="keyword">http</span>://目录全路径

例子：
svn mkdir newdir
<span class="keyword">http</span>://<span class="number">192.168</span><span class="number">.0</span><span class="number">.3</span>/test/newdir

注：添加完子目录后，一定要回到根目录更新一下，不然在该目录下提交文件会提示“提交失败”

svn update
注：如果手工在checkout出来的目录里创建了一个新文件夹newsubdir，再用svn mkdir newsubdir命
令后，SVN会提示：
svn: 尝试用 “svn <span class="built_in">add</span>”或 “svn <span class="built_in">add</span> <span class="comment">--non-recursive”代替？</span>
svn: 无法创建目录“hello”: 文件已经存在此时，用如下命令解决：

svn <span class="built_in">add</span> <span class="comment">--non-recursive newsubdir</span>
在进入这个newsubdir文件夹，用ls -<span class="operator">a</span>查看它下面的全部目录与文件，会发现多了：.svn目录再用 svn
mkdir -m <span class="string">"添hello功能模块文件"</span> svn://<span class="number">192.168</span><span class="number">.0</span><span class="number">.3</span>/test/newdir/newsubdir 命令，

SVN提示：
svn: File already exists: filesystem <span class="string">'/data/svnroot/test/db'</span>, transaction <span class="string">'4541-1'</span>,path <span class="string">'/newdir/newsubdir '</span>
</pre></td></tr></table></figure>

<p><strong>15、恢复本地修改 </strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="comment">svn　revert　</span><span class="title">[</span><span class="literal">-</span><span class="literal">-</span><span class="comment">recursive</span><span class="title">]</span><span class="comment">　文件名</span>
<span class="comment">注意:</span> <span class="comment">本子命令不会存取网络，并且会解除冲突的状况。但是它不会恢复被删除的目录。</span>
<span class="comment">例子：</span>
<span class="comment">svn</span> <span class="comment">revert</span> <span class="comment">foo</span><span class="string">.</span><span class="comment">c</span> <span class="comment">＜－</span> <span class="comment">丢弃对一个文件的修改</span>
<span class="comment">svn</span> <span class="comment">revert</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">recursive</span> <span class="string">.</span> <span class="comment">＜－恢复一整个目录的文件，</span><span class="string">.</span> <span class="comment">为当前目录</span>
</pre></td></tr></table></figure>

<p><strong>16、把工作拷贝更新到别的URL </strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>svn　<span class="keyword">switch</span>　http:<span class="comment">//目录全路径　本地目录全路径</span>
例子：
svn <span class="keyword">switch</span> http:<span class="comment">//192.163.0.3/test/456 . ＜－ (原为123的分支)当前所在目录分支到192.163.0.3/test/456</span>
</pre></td></tr></table></figure>

<p><strong>17、解决冲突 </strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>svn　resolved　[本地目录全路径]
例子：
$ svn <span class="operator"><span class="keyword">update</span>
C foo.c
Updated <span class="keyword">to</span> revision <span class="number">31.</span></span>
</pre></td></tr></table></figure>

<p>如果你在更新时得到冲突，你的工作拷贝会产生三个新的文件：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>$ ls
foo<span class="preprocessor">.c</span>
foo<span class="preprocessor">.c</span><span class="preprocessor">.mine</span>
foo<span class="preprocessor">.c</span><span class="preprocessor">.r</span>30
foo<span class="preprocessor">.c</span><span class="preprocessor">.r</span>31
</pre></td></tr></table></figure>

<p>当你解决了foo.c的冲突，并且准备提交，运行svn resolved让你的工作拷贝知道你已经完成了所有事情。
你可以仅仅删除冲突的文件并且提交，但是svn resolved除了删除冲突文件，还修正了一些记录在工作拷贝管理区域的记录数据，所以我们推荐你使用这个命令。</p>
<p><strong>18、不checkout而查看输出特定文件或URL的内容 </strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>svn　cat　http:<span class="comment">//文件全路径</span>
例子：
svn cat http:<span class="comment">//192.168.0.3/test/readme.txt</span>
</pre></td></tr></table></figure>

]]></content>
    
    
      <category term="SVN" scheme="http://www.succw.com/tags/SVN/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[SHELL脚本编程大全笔记]]></title>
    <link href="http://www.succw.com/shell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%A4%A7%E5%85%A8%E7%AC%94%E8%AE%B0/"/>
    <id>http://www.succw.com/shell脚本编程大全笔记/</id>
    <published>2014-01-23T11:15:18.000Z</published>
    <updated>2014-01-23T11:33:45.000Z</updated>
    <content type="html"><![CDATA[<h6 id="shell-">SHELL脚本编程大全笔记</h6>
<hr>
<ul>
<li>A=$[  $1 * $2 ] 直接运算。</li>
<li>total=$[ ${10} * ${11} ]</li>
</ul>
<p>各种i++</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="comment">$((i=i</span><span class="literal">+</span><span class="comment">1))</span>
<span class="comment">$((i</span><span class="literal">+</span><span class="literal">+</span><span class="comment">))</span>
<span class="comment">$</span><span class="title">[</span> <span class="comment">i</span><span class="literal">+</span><span class="literal">+</span> <span class="title">]</span>
<span class="comment">let</span> <span class="comment">"i</span><span class="literal">+</span><span class="literal">+</span><span class="comment">"</span>
<span class="comment">((i</span><span class="literal">+</span><span class="literal">+</span><span class="comment">))</span>
</pre></td></tr></table></figure>

<p><strong><strong>使用双尖括号</strong></strong></p>
<p><strong>(( expression  ))</strong></p>
<p>比如：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="shebang">#!/bin/bash</span>
a=<span class="number">10</span>
<span class="keyword">if</span> (( <span class="variable">$a</span> ** <span class="number">2</span> &gt;<span class="number">90</span>  )) ;<span class="keyword">then</span>
        <span class="built_in">echo</span> <span class="string">"<span class="variable">$a</span>"</span>
        (( b = <span class="variable">$a</span> ** <span class="number">2</span> ))
        <span class="built_in">echo</span> <span class="variable">$b</span>
<span class="keyword">fi</span>
</pre></td></tr></table></figure>

<p>还有其他表达式：</p>
<h2 id="-http-localhost-8080-png-"><img src="http://localhost:8080/双括号.png" alt=""></h2>
<p><em>使用双方括号</em></p>
<p><strong>[[ expression ]]</strong></p>
<p>模式匹配，你可以自定义正则表达式。</p>
<h6 id="for-c-">for循环语句 { 类C语言 }</h6>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="keyword">for</span>((<span class="operator">a</span>=<span class="number">1</span>;<span class="operator">a</span>&lt;<span class="number">5</span>;<span class="operator">a</span>++)){
	echo <span class="string">"$a"</span>
}
</pre></td></tr></table></figure>

<p><em>or</em></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>Shell 格式：
<span class="keyword">for</span>((a=<span class="number">1</span>;a&lt;<span class="number">5</span>;a++))
<span class="keyword">do</span>
	<span class="built_in">echo</span> <span class="string">"<span class="variable">$a</span>"</span>
<span class="keyword">done</span>
</pre></td></tr></table></figure>

<hr>
<p><strong>重定向</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre>for(()){

} &gt; /output.txt

<span class="code">-----
or
-----</span>
for(())
do
done | sort
</pre></td></tr></table></figure>

<p>${!#} 返回命令行的脚本名</p>
<p>$*    保存单个单词</p>
<p>$@  保存，类似数组</p>
<hr>
<p><strong>getopt</strong></p>
<p>处理命令行选项和参数</p>
<figure class="highlight `"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre><span class="shebang">#!/bin/bash</span>
`<span class="keyword">set</span> --   getopt -q ab:c <span class="string">"<span class="variable">$@</span>"</span>` `
<span class="keyword">while</span> [ -n <span class="variable">$1</span> ]
<span class="keyword">do</span>
	<span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span>
    	<span class="operator">-a</span>) <span class="built_in">echo</span> <span class="string">"Found the -a option"</span> ;;
        -b) param=<span class="string">"<span class="variable">$2</span>"</span>
        	  <span class="built_in">echo</span> <span class="string">"Found the -b option.with parameter value <span class="variable">$param</span>"</span>
              shift;;
        -c)
        	<span class="built_in">echo</span> <span class="string">"Found the -c option"</span> ;;
        --) shift
        	<span class="keyword">break</span>;;
         *) <span class="built_in">echo</span> <span class="string">"<span class="variable">$1</span> is not an option"</span> ;;
shift
<span class="keyword">done</span>
</pre></td></tr></table></figure>

<h5 id="-getopts-"><strong>getopts</strong></h5>
<p><del>page284</del></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="shebang">#!/bin/bash</span>
<span class="comment">#</span>
<span class="keyword">while</span> <span class="built_in">getopts</span> <span class="string">":ab:cd"</span> opt 
<span class="keyword">do</span>
<span class="keyword">case</span> <span class="string">"<span class="variable">$opt</span>"</span> <span class="keyword">in</span>
        a) <span class="built_in">echo</span> <span class="string">"Option \"a\""</span>;;
        b) <span class="built_in">echo</span> <span class="string">"Option \"b\" "</span><span class="variable">$OPTARG</span><span class="string">""</span>;;
        c) <span class="built_in">echo</span> <span class="string">"Option \"c\""</span>;;
        d) <span class="built_in">echo</span> <span class="string">"Option \"d\""</span>;;
        <span class="keyword">esac</span>
<span class="keyword">done</span>
<span class="keyword">exit</span> <span class="number">0</span>
```language
</pre></td></tr></table></figure>

<hr>
<p><strong>永久重定向</strong></p>
<p>--在脚本中添加下行</p>
<p><code>exec 1&gt;outfile</code></p>
<p>所有正常输出将重定向至outfile中。</p>
<p><code>exec 2&gt;outfile</code></p>
<p>错误输出</p>
<h6 id="-shell-9-">在Shell中最多可以有9个打开的文件描述符</h6>
<p>创建自定义文件描述符（3-8）</p>
<p>比如：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="shebang">#!/bin/bash</span>
<span class="keyword">exec</span> <span class="number">3</span>&gt;outfile3.out
<span class="comment">#exec 3&gt;&gt;outfile3.out</span>
<span class="comment">#顾名思义是追加</span>
<span class="built_in">echo</span> <span class="string">"输出正常"</span> &gt;&<span class="number">3</span>
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="code"><pre><span class="shebang">#!/bin/bash
</span>
<span class="keyword">exec</span> <span class="number">6</span>&lt;&<span class="number">0</span>
<span class="keyword">exec</span> <span class="number">0</span>&lt; testfile

count=<span class="number">1</span>
<span class="keyword">while</span> <span class="built_in">read</span> line
<span class="keyword">do</span>
        <span class="built_in">echo</span> <span class="string">"Line #<span class="variable">$count</span>: <span class="variable">$line</span>"</span>
        ((count++))
<span class="keyword">done</span>

<span class="keyword">exec</span> <span class="number">0</span>&lt;&<span class="number">6</span>

<span class="built_in">read</span> <span class="operator">-s</span> -p  <span class="string">"Are you done now?"</span> answer
<span class="keyword">case</span> <span class="variable">$answer</span> <span class="keyword">in</span>
        y|y)
                <span class="built_in">echo</span> <span class="string">"Goodbye"</span>
        ;;
        N|n)
                <span class="built_in">echo</span> <span class="string">"sorry. this is the end."</span>
        ;;
        *)
                <span class="built_in">echo</span> <span class="string">"Doesn't Matter"</span>
        ;;
<span class="keyword">esac</span>
</pre></td></tr></table></figure>

<p>关闭文件描述符</p>
<p><code>exec 3&gt;&amp;-</code></p>
<p><code>mktemp -t test.XXXXXX</code></p>
<p>在/tmp目录下创建临时文件</p>
<p><code>mktemp -d dir.XXXXXX</code></p>
<hr>
<p>捕捉信号：</p>
<p>trap command SIGINT SIGTERM</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre>1) SIGHUP	2) SIGINT	3) SIGQUIT	4) SIGILL	5) SIGTRAP
6) SIGABRT	7) SIGBUS	8) SIGFPE	9) SIGKILL	10) SIGUSR1
11) SIGSEGV	12) SIGUSR2	13) SIGPIPE	14) SIGALRM	15) SIGTERM
16) SIGSTKFLT	17) SIGCHLD	18) SIGCONT	19) SIGSTOP	20) SIGTSTP
21) SIGTTIN	22) SIGTTOU	23) SIGURG	24) SIGXCPU	25) SIGXFSZ
26) SIGVTALRM	27) SIGPROF	28) SIGWINCH	29) SIGIO	30) SIGPWR
31) SIGSYS	34) SIGRTMIN	35) SIGRTMIN+1	36) SIGRTMIN+2	37) SIGRTMIN+3
38) SIGRTMIN+4	39) SIGRTMIN+5	40) SIGRTMIN+6	41) SIGRTMIN+7	42) SIGRTMIN+8
43) SIGRTMIN+9	44) SIGRTMIN+10	45) SIGRTMIN+11	46) SIGRTMIN+12	47) SIGRTMIN+13
48) SIGRTMIN+14	49) SIGRTMIN+15	50) SIGRTMAX-14	51) SIGRTMAX-13	52) SIGRTMAX-12
53) SIGRTMAX-11	54) SIGRTMAX-10	55) SIGRTMAX-9	56) SIGRTMAX-8	57) SIGRTMAX-7
58) SIGRTMAX-6	59) SIGRTMAX-5	60) SIGRTMAX-4	61) SIGRTMAX-3	62) SIGRTMAX-2
63) SIGRTMAX-1	64) SIGRTMAX
</pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="shebang">#!/bin/bash</span>
trap <span class="string">"echo 'ByeBye'"</span> EXIT

<span class="keyword">for</span>((a=<span class="number">1</span>;a&lt;<span class="number">10</span>;a++)){
	<span class="built_in">echo</span> <span class="string">"Line <span class="variable">$a</span>"</span>
    sleep <span class="number">1</span>
}
trap - EXIT
<span class="built_in">echo</span> <span class="string">"移除退出信号"</span>
</pre></td></tr></table></figure>

<p><strong>crontab</strong></p>
<p>每月最后一天</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="keyword">if</span> [ `<span class="built_in">date</span> +%d -d tomorrow` = <span class="number">01</span> ]; <span class="keyword">then</span>
	<span class="command"><span class="keyword">command</span></span>
fi
</pre></td></tr></table></figure>

<p><code>00 12 * * * if [ `date +%d -d tomorrow` = 01 ];then : command</code></p>
]]></content>
    
    
  </entry>
  
  <entry>
    <title><![CDATA[VCAP510]]></title>
    <link href="http://www.succw.com/vcap510/"/>
    <id>http://www.succw.com/vcap510/</id>
    <published>2014-01-20T09:25:41.000Z</published>
    <updated>2014-01-20T09:26:20.000Z</updated>
    <content type="html"><![CDATA[<p>VDCA510考试</p>
<pre><code>未知总是很可怕的，特此记录下来。
</code></pre><blockquote>
<p>关于VDCA510考试， 总的来说题目很简答，全部来自<a href="http://www.virtuallanger.com/vcap-dca-5/" target="_blank">VCAP-DCA指南</a>。 只是改改题型而已。要求是必须熟练，熟练，因为考试时间有限
这里记录我考试相关的一些题目相关。</p>
</blockquote>
<p>服务方面，</p>
<blockquote>
<ol>
<li>创建用户和组（ESXi和vMA）。创建多个用户和组，对用户赋予shell访问权限。将用户加到相应的组，其二就是角色控制。其中一个赋予普通用户，另一个则赋予管理原权限。</li>
<li>配置syslog日志服务器，查看相应的文件中是否生成相应的文件。</li>
<li>FT配置，要求某磁盘能开启FT，网络配置，开启FT  logging。</li>
<li>应用主机配置文件，对配置文件做修改以达到兼容主机配置。比如配置SNMP。   </li>
<li>集群方面的题目，要么是让某些虚拟机在重启的时候不启动、要么是不应有DRS规则、要么是确保某个特定的虚拟机都不应有相应的规则等，还有其他，如，存储swapfile配置、接入访问控制等。</li>
<li>排错题，要求将StorageVM存储中的ISO文件拷贝到NFS中，但NFS却连不上。</li>
<li>开启Update Manager插件，配置更新计划调度。   </li>
<li>AutoDeploy有3-5道题目，创建image配置文件，导出ISO文件，基于配置文件的自动部署等 </li>
<li>基于模板创建VM进行排错。</li>
<li>根据性能分析，将Chart结果保存到配置中，或对相应的虚拟机进行调整，如资源池。 </li>
<li>证书相关，将证书拷贝到主机。</li>
</ol>
</blockquote>
<p>安全方面，</p>
<blockquote>
<p>配置防火墙，比如将某端口对外开放或者对内的，如3000端口。</p>
</blockquote>
<p>存储方面，</p>
<blockquote>
<ol>
<li>添加存储集群，配置存储DRS，将特定存储进行维护，检查配置是否正确。</li>
<li>当然存储配置文件就不说了，很简单。</li>
<li>添加SATP、PSA相应的规则，并激活。</li>
</ol>
</blockquote>
<p>脚本方面，</p>
<blockquote>
<ol>
<li>powershell的改编题。要求你对ps1脚本进行排错。记得是查看所有VM光驱状态的脚本。</li>
<li>在AutoDeploy中有体现。</li>
</ol>
</blockquote>
<p>网络方面，</p>
<blockquote>
<ol>
<li>配置分布式交换机，将特定的标准交换机迁移至DVS中，创建相应的端口组，对端口组做负载均衡相关配置。</li>
<li>配置NetFlow对特定端口组进行监控。</li>
<li>配置Pvlan，要求VLAN20中的机器能访问Internet却不能互访。但是VLAN100中的机器不光可以上Internet也可以访问VLAN20</li>
<li>标准交换机上的配置，为交换机添加上行链路，此交换机专门用来配置FT，然后检查虚拟机开始FT是否正常。</li>
</ol>
</blockquote>
<hr>
<p>将<a href="http://www.virtuallanger.com/vcap-dca-5/" target="_blank">VCAP-DCA指南</a>的实验完全掌握、熟练之后，VDCA510的考试就一点都不难了。</p>
]]></content>
    
    
      <category term="VMware" scheme="http://www.succw.com/tags/VMware/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Installing Update Manager fails with error: error 1406]]></title>
    <link href="http://www.succw.com/installing-update-manager-fails-with-error-error-1406/"/>
    <id>http://www.succw.com/installing-update-manager-fails-with-error-error-1406/</id>
    <published>2013-08-14T08:53:06.000Z</published>
    <updated>2014-01-15T07:21:47.000Z</updated>
    <content type="html"><![CDATA[<p>安装Update Manager时报错</p>
<p>错误如下：</p>
<p>这是因为之前安装卸载不干净导致的：</p>
<p>解决办法：</p>
<p><span style="color: #ff0000;">运行 -&gt; regedit (or regedt32 )-&gt; <em>HKEY_LOCAL_MACHINE -&gt; SOFTWARE -&gt; Wow6432Node -&gt; VMware, Inc.(删除此项)</em></span></p>
<p><span style="color: #ff0000;">-&gt;  点击重试</span></p>
<p>&nbsp;</p>
<p>官方：</p>
<p><a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1015647" target="_blank"><a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1015647">http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1015647</a></a></p>
<p>参考：</p>
<p><a href="http://techhead.co/fix-vmware-vsphere-client-error-1406-could-not-write-value/" target="_blank"><a href="http://techhead.co/fix-vmware-vsphere-client-error-1406-could-not-write-value/">http://techhead.co/fix-vmware-vsphere-client-error-1406-could-not-write-value/</a></a></p>
]]></content>
    
    
      <category term="VMware" scheme="http://www.succw.com/tags/VMware/"/>
    
      <category term="VMware" scheme="http://www.succw.com/categories/VMware/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[从vCenter Server中删除不必要的插件]]></title>
    <link href="http://www.succw.com/removing-unwanted-plug-ins-from-vcenter-server/"/>
    <id>http://www.succw.com/removing-unwanted-plug-ins-from-vcenter-server/</id>
    <published>2013-08-07T10:25:55.000Z</published>
    <updated>2014-01-15T03:24:40.000Z</updated>
    <content type="html"><![CDATA[<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>做完</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>Auto deploy</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>实验后，直接把</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>Auto deploy</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>虚拟机删除掉了，在</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>vCenter Server</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>的插件中显示以下错误：</span></span></span></p>
<p><span style="color: #333333;">“<span style="font-family: 'DejaVu Serif', serif;"><span>从</span></span><span style="font-family: 'DejaVu Serif', serif;"><span><a href="https://192.168.3.185:6501/vmw/rbd/-extension.xml" target="_blank">https://192.168.3.185:6501/vmw/rbd/-extension.xml</a></span></span><span style="font-family: 'DejaVu Serif', serif;"><span>下载脚本插件时出现了以下错误</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>:</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>由于连接故障，请求失败。</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>(</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>无法连接到远程服务器</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>)”</span></span></span></p>
<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>这也导致不能注册新的</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>Auto deploy (</span></span></span><span style="color: #222222;">“<span style="font-family: Tahoma, 'Century gothic', Arial, Tahoma, sans-serif;">已经向指定</span><span style="font-family: inherit;"><span style="font-size: medium;">center Server</span></span><span style="font-family: Tahoma, 'Century gothic', Arial, Tahoma, sans-serif;">注册了服务”</span></span><span><span style="font-family: 'DejaVu Serif', serif;">)</span></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>解决办法如下：</span></span></span></p>
<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>1</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>、在浏览器中，输入</span></span><span style="font-family: 'DejaVu Serif', serif;"><span><a href="http://vcenter" target="_blank">http://vcenter</a> server name or IP/mob</span></span></span></p>
<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>2</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>、点击</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>Content.</span></span></span></p>
<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>3</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>、点击</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>ExtensionManager.</span></span></span><span><span style="font-family: 'DejaVu Serif', serif;">会显示</span><span style="font-family: 'DejaVu Serif', serif;">extensionList</span></span></p>
<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>extensionList[&quot;com.vmware.rbd&quot;] </span></span></span></p>
<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>这是</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>&quot;Auto Deploy&quot;</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>扩展，</span></span></span><span><span style="font-family: 'DejaVu Serif', serif;">可点击查看</span><span style="font-family: 'DejaVu Serif', serif;">description</span></span></p>
<p>&nbsp;</p>
<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>4</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>、点击</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>UnregisterExtension. </span></span><span style="font-family: 'DejaVu Serif', serif;"><span>会出现一个新窗口</span></span></span></p>
<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>在窗口中输入</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>com.vmware.rbd</span></span></span></p>
<p>&nbsp;</p>
<p><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span>其他插件卸载见官方</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>kb</span></span><span style="font-family: 'DejaVu Serif', serif;"><span>：</span></span></span></p>
<h3 id="-span-style-color-333333-span-style-font-family-dejavu-serif-serif-span-removing-unwanted-plug-ins-from-vcenter-server-1025360-http-kb-vmware-com-selfservice-microsites-search-do-language-en_us-amp-cmd-displaykc-amp-externalid-1025360-span-span-span-"><span style="color: #333333;"><span style="font-family: 'DejaVu Serif', serif;"><span><a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1025360" target="_blank">Removing unwanted plug-ins from vCenter Server (1025360)</a></span></span></span></h3>
<h3 id="-"> </h3>
<p>&nbsp;</p>
<p><span style="color: #333333;"> </span></p>
]]></content>
    
    
      <category term="VMware" scheme="http://www.succw.com/tags/VMware/"/>
    
      <category term="VMware" scheme="http://www.succw.com/categories/VMware/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[linux下cdrecord刻录光盘]]></title>
    <link href="http://www.succw.com/linux%E4%B8%8Bcdrecord%E5%88%BB%E5%BD%95%E5%85%89%E7%9B%98/"/>
    <id>http://www.succw.com/linux下cdrecord刻录光盘/</id>
    <published>2013-06-14T09:29:58.000Z</published>
    <updated>2014-01-15T03:24:12.000Z</updated>
    <content type="html"><![CDATA[<p>linux下一般都带有cdrecord软件，可以用来刻录光盘</p>
<p>cdrecord -scanbus 查看系统所有 CD-R(W) 设备。</p>
<p>[root@localhost Material]# cdrecord -scanbus
Cdrecord-Clone 2.01 (cpu-pc-linux-gnu) Copyright (C) 1995-2004 JSchilling
Note: This version is an unofficial (modified) version with DVD support
Note: and therefore may have bugs that are not present in the original.
Note: Please send bug reports or support requests to <a href="http://bugzilla.redhat.com/bugzilla" target="_blank">http://bugzilla.redhat.com/bugzilla</a>
Note: The author of cdrecord should not be bothered with problems in this version.
Linux sg driver version: 3.5.27
Using libscg version &#39;schily-0.8&#39;.
cdrecord: Warning: using inofficial libscg transport code version (schily - Red Hat-scsi-linux-sg.c-1.83-RH &#39;@(#)scsi-linux-sg.c 1.83 04/05/20 Copyright 1997 J. Schilling&#39;).
scsibus4:
4,0,0 400) &#39;TEAC &#39; &#39;DVD-ROM DV-28SW &#39; &#39;R.2A&#39; Removable CD-ROM
4,1,0 401) <em>
4,2,0 402) </em>
4,3,0 403) <em>
4,4,0 404) </em>
4,5,0 405) <em>
4,6,0 406) </em>
4,7,0 407) *</p>
<p>刻录iso文件</p>
<p>cdrecord -v -eject speed=4 dev=4,0,0 backup.iso</p>
<p>-v verbose</p>
<p>-eject 刻完自动弹出光盘</p>
<p>speed=4 dev=4,0,0 :四速刻录到dev=4,0,0上</p>
<p>cdrecord --dev=4,0,0 --blank=fast   擦写光驱</p>
]]></content>
    
    
      <category term="Linux" scheme="http://www.succw.com/tags/Linux/"/>
    
      <category term="other" scheme="http://www.succw.com/categories/other/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[配置 Windows NTP 客户端以实现网络时钟同步]]></title>
    <link href="http://www.succw.com/%E9%85%8D%E7%BD%AE-windows-ntp-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%BB%9C%E6%97%B6%E9%92%9F%E5%90%8C%E6%AD%A5/"/>
    <id>http://www.succw.com/配置-windows-ntp-客户端以实现网络时钟同步/</id>
    <published>2013-06-04T03:19:47.000Z</published>
    <updated>2014-01-15T03:26:48.000Z</updated>
    <content type="html"><![CDATA[<p>vSphere 网络上所有服务器的时钟都必须同步。您可以将 Windows NTP 客户端配置为 Windows 服务器上时
钟同步的源。
在 Windows 服务器上使用注册表编辑器进行配置更改。
步骤
1 启用 NTP 模式。</p>
<ul>
<li><p>a 转至注册表设置
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\W32Time\Parameters</p>
</li>
<li><p>b 将“类型”值设置为 NTP。
2 启用 NTP 客户端。</p>
</li>
<li><p>a 转至注册表设置
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\W32Time\Config</p>
</li>
<li><p>b 将“AnnounceFlags”值设置为 5。
3 输入要与之同步的上游 NTP 服务器。</p>
</li>
<li><p>a 转至注册表设置
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\W32Time\TimeProviders。</p>
</li>
<li><p>b 将 NtpServer 值设置为至少包含三台 NTP 服务器的列表。
例如，您可以将值设置为 0x1 1.pool.ntp.org、0x1 2.pool.ntp.org、0x1 3.pool.ntp.org。
4 指定 150 分钟的更新时间间隔。</p>
</li>
<li><p>a 转至注册表设置
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\W32Time\TimeProviders\Nt
pClient，</p>
</li>
<li><p>b 将“SpecialPollInterval”值设置为 900。
5 重新启动 W32time 服务，使更改生效。</p>
</li>
</ul>
]]></content>
    
    
      <category term="Windows" scheme="http://www.succw.com/tags/Windows/"/>
    
      <category term="运维" scheme="http://www.succw.com/categories/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Monitor VMware ESXi with your existing Nagios application]]></title>
    <link href="http://www.succw.com/monitor-vmware-esxi-with-your-existing-nagios-application/"/>
    <id>http://www.succw.com/monitor-vmware-esxi-with-your-existing-nagios-application/</id>
    <published>2013-05-22T02:07:10.000Z</published>
    <updated>2014-01-15T03:24:24.000Z</updated>
    <content type="html"><![CDATA[<p>摘自:  <a href="http://searchvmware.techtarget.com/tip/Monitor-VMware-ESXi-with-your-existing-Nagios-application?utm_medium=EM&amp;asrc=EM_ERU_21757763&amp;utm_campaign=20130521_ERU%20Transmission%20for%2005/21/2013%20(UserUniverse:%20621766" target="_blank"><a href="http://searchvmware.techtarget.com/tip/Monitor-VMware-ESXi-with-your-existing-Nagios-application?utm_medium=EM&amp;asrc=EM_ERU_21757763&amp;utm_campaign=20130521_ERU%20Transmission%20for%2005/21/2013%20(UserUniverse:%20621766)_myka-reports@techtarget.com&amp;utm_source=ERU&amp;src=5129920">http://searchvmware.techtarget.com/tip/Monitor-VMware-ESXi-with-your-existing-Nagios-application?utm_medium=EM&amp;asrc=EM_ERU_21757763&amp;utm_campaign=20130521_ERU%20Transmission%20for%2005/21/2013%20(UserUniverse:%20621766)_myka-reports@techtarget.com&amp;utm_source=ERU&amp;src=5129920</a></a>_myka-reports@techtarget.com&amp;utm_source=ERU&amp;src=5129920)</p>
<p>Nagios is plug-in-oriented management software typically installed on a Linux server. Many corporate system administrators use Nagios to keep track of the current state of their servers and other vital devices in the network. This makes Nagios a good choice if you&#39;re looking for VMware monitoring tools. Here&#39;s a look at how to integrate VMware ESXi monitoring in an existing <a href="http://searchenterpriselinux.techtarget.com/tutorial/Nagios-Configuration-and-integration-advice" target="_blank">Nagios environment</a>.</p>
<p>Any device with a <a href="http://searchenterpriselinux.techtarget.com/answer/Using-Nagios-with-custom-plugins" target="_blank">plug-in</a> -- even the software in your department&#39;s coffeemaker -- can be<a href="http://searchdatacenter.techtarget.com/tip/Is-Nagios-right-for-your-data-center" target="_blank">managed through Nagios</a>, which makes the open source network monitoring system popular and well-known. If you already <a href="http://searchdatacenter.techtarget.com/tip/Nagios-setup-Installing-and-configuring-the-network-monitoring-tool" target="_blank">have a Nagios monitoring environment</a> in place, you can use it to monitor VMware infrastructures by installing the VMware plug-in on the Linux server.</p>
<p>The open source development company OP5 offers the most common <a href="http://searchvmware.techtarget.com/tip/Honing-your-VMware-monitoring-techniques" target="_blank">VMware monitoring</a>software plug-in: <a href="http://www.op5.org/community/plugin-inventory/op5-projects/check-esx-plugin" target="_blank">the OP5 Check ESX Plug-in</a>. Since it is written in Perl scripting language, you&#39;ll need Perl support on your Linux server and the free VMware vSphere Perl SDK software.</p>
<p><a href="http://communities.vmware.com/community/vmtn/developer/forums/vsphere_sdk_perl" target="_blank">Download</a> the VMware vSphere Perl SDK to the Linux server that hosts Nagios and then extract it using <code>tar zxvf VMware-vSphere-Perl-SDK-&amp;lt;version-number&amp;gt;.tar.gz</code>. This will create the subdirectory called<code>vmware-vsphere-cli-distrib</code>. In this subdirectory, you&#39;ll find the installer script <code>vmware-install.pl</code>. Before running this script, use <code>yum install perl-Pod-Perldoc perl-CPAN openssl-devel</code> to ensure that all software requirements are met on your server.</p>
<p>After installing the prerequisites, use the <code>./vmware-install.pl</code> command and follow the script&#39;s directions. Now, you can download the Nagios plug-in from OP5 or do an Internet search for <code>download check_esx3.pl</code> to find the plug-in script in text format. Download this script, save it to the directory <code>/usr/lib64/nagios/plugins and use chmod +x check_esx3.pl</code> to make it executable. Nagios can now begin monitoring ESXi.</p>
<p>You can now define the commands for Nagios to use to monitor VMware ESXi hypervisors. Add the monitoring commands to the Nagios <code>/etc/nagios/objects/command.cfg</code> file. Put a user name and password in variables in the <code>/etc/nagios/resource.cfg</code> file. In this example, a variable ESXUSER is defined, as well as the user&#39;s password. Nagios can use these credentials to access the ESXi host. The file could have the following contents:</p>
<p><code># cat /etc/nagios/resource.cfg $ESXUSER$=username $ESXPASSWORD$=password</code></p>
<p>Based on this, you can add the ESXi monitoring commands to the<code>/etc/nagios/objects/command.cfg</code> file.</p>
<p>If you want to monitor ESXi CPU usage, use this command:
<code># check vmware ESXi CPU</code>define command
<code>{    command_name   check_esx_cpu      command_line        $ESXUSER$/check_esx -H $HOSTADDRESS$ -u $ESXUSER$ -p $ESXPASSWORD$ -l cpu -s usage -w $ARG1$ -c $ARG2$ }</code></p>
<p>Once you&#39;ve defined commands, create a configuration file for your ESXi host. If the ESXi host is called esxi01, you could put its configuration in a <code>/etc/nagios/hosts/esxi01.cfg</code>file containing the following:</p>
<p><code># Host esx01</code></p>
<p>define host
<code>{   use   Linux-server   host_name   esxi01 address 192.168.1.10   }</code></p>
<p>define service
<code>{   use   generic-service   host_name   esxi01 service_description   ESXi CPU Load check_command   check_esx_cpu!80!90   }</code></p>
<p>This is just a taste of what you can do with the ESXi monitoring plug-in for Nagios. Depending on what functions the plug-in defines, you can monitor other aspects of the ESXi host. Work with your Nagios administrator to define more commands for monitoring VMware.</p>
]]></content>
    
    
      <category term="VMware" scheme="http://www.succw.com/tags/VMware/"/>
    
      <category term="VMware" scheme="http://www.succw.com/categories/VMware/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ethtool]]></title>
    <link href="http://www.succw.com/ethtool/"/>
    <id>http://www.succw.com/ethtool/</id>
    <published>2013-04-26T03:10:58.000Z</published>
    <updated>2014-01-15T03:22:07.000Z</updated>
    <content type="html"><![CDATA[<h1 id="-span-style-font-size-13px-ethtool-is-the-standard-linux-utility-for-controlling-network-drivers-and-hardware-particularly-for-wired-ethernet-devices-span-"><span style="font-size: 13px;">ethtool is the standard Linux utility for controlling network drivers and hardware, particularly for wired Ethernet devices. </span></h1>
<h1 id="-span-style-font-size-13px-it-can-be-used-to-span-"><span style="font-size: 13px;">It can be used to:</span></h1>
<ul>
<li>Get identification and diagnostic information</li>
<li>Get extended device statistics</li>
<li>Control speed, duplex, autonegotiation and flow control for Ethernet devices</li>
<li>Control checksum offload and other hardware offload features</li>
<li>Control DMA ring sizes and interrupt moderation</li>
<li>Control receive queue selection for multiqueue devices</li>
<li>Upgrade firmware in flash memory
Most features are dependent on support in the specific driver. See the manual page for full information.</li>
</ul>
<h1 id="-"> </h1>
<h1 id="-usage-"><strong>Usage：</strong></h1>
<p>&nbsp;</p>
<h2 id="name">NAME</h2>
<pre>       ethtool - Display or change ethernet card settings</pre>

<h2 id="synopsis">SYNOPSIS</h2>
<pre>       **ethtool** _ethX_

       **ethtool** **-h**

       **ethtool** **-a** _ethX_

       **ethtool** **-A** _ethX_ [**autoneg** **on**|**off**] [**rx** **on**|**off**] [**tx** **on**|**off**]

       **ethtool** **-c** _ethX_

       **ethtool**  **-C** _ethX_ [**adaptive-rx** **on**|**off**] [**adaptive-tx** **on**|**off**] [**rx-usecs** _N_]
       [**rx-frames** _N_] [**rx-usecs-irq** _N_]  [**rx-frames-irq**  _N_]  [**tx-usecs**  _N_]  [**tx-**
       **frames**  _N_]  [**tx-usecs-irq**  _N_]  [**tx-frames-irq**  _N_] [**stats-block-usecs** _N_]
       [**pkt-rate-low** _N_] [**rx-usecs-low** _N_] [**rx-frames-low**  _N_]  [**tx-usecs-low**  _N_]
       [**tx-frames-low**  _N_]  [**pkt-rate-high** _N_] [**rx-usecs-high** _N_] [**rx-frames-high**
       _N_] [**tx-usecs-high** _N_] [**tx-frames-high** _N_] [**sample-interval** _N_]

       **ethtool** **-g** _ethX_

       **ethtool** **-G** _ethX_ [**rx** _N_] [**rx-mini** _N_] [**rx-jumbo** _N_] [**tx** _N_]

       **ethtool** **-i** _ethX_

       **ethtool** **-d** _ethX_ [**raw** **on**|**off**]

       **ethtool** **-e** _ethX_ [**raw** **on**|**off**] [**offset** _N_] [**length** _N_]

       **ethtool** **-E** _ethX_ [**magic** _N_] [**offset** _N_] [**value** _N_]

       **ethtool** **-k** _ethX_

       **ethtool** **-K** _ethX_ [**rx** **on**|**off**] [**tx** **on**|**off**] [**sg** **on**|**off**] [**tso** **on**|**off**]

       **ethtool** **-p** _ethX_ _[_N_]_

       **ethtool** **-r** _ethX_

       **ethtool** **-S** _ethX_

       **ethtool** **-t** _ethX_ [**offline**|**online**]

       **ethtool**     **-s**     _ethX_     [**speed** **10**|**100**|**1000**]      [**duplex** **half**|**full**]
       [**port** **tp**|**aui**|**bnc**|**mii**]  [**autoneg** **on**|**off**] [**phyad** _N_] [**xcvr** **internal**|**exter-**
       **nal**] [**wol** **p**|**u**|**m**|**b**|**a**|**g**|**s**|**d**...]  [**sopass** _xx_**:**_yy_**:**_zz_**:**_aa_**:**_bb_**:**_cc_] [**msglvl** _N_]</pre>

<h2 id="description">DESCRIPTION</h2>
<pre>       **ethtool** is used for querying settings of an ethernet device and  chang-
       ing them.

       _ethX_ is the name of the ethernet device to work on.</pre>

<h2 id="options">OPTIONS</h2>
<p><pre>       <strong>ethtool</strong>  with  a single argument specifying the device name prints cur-
       rent setting of the specified device.</p>
<pre><code>   **-h**     shows a short help message.

   **-a**     queries the specified ethernet device for pause parameter infor-
          mation.

   **-A**     change the pause parameters of the specified ethernet device.

   **autoneg** **on**|**off**
          Specify if pause autonegotiation is enabled.

   **rx** **on**|**off**
          Specify if RX pause is enabled.

   **tx** **on**|**off**
          Specify if TX pause is enabled.

   **-c**     queries  the  specified  ethernet device for coalescing informa-
          tion.

   **-C**     change the coalescing settings of the specified ethernet device.

   **-g**     queries  the  specified ethernet device for rx/tx ring parameter
          information.

   **-G**     change the rx/tx  ring  parameters  of  the  specified  ethernet
          device.

   **rx** _N_   Change number of ring entries for the Rx ring.

   **rx-mini** _N_
          Change number of ring entries for the Rx Mini ring.

   **rx-jumbo** _N_
          Change number of ring entries for the Rx Jumbo ring.

   **tx** _N_   Change number of ring entries for the Tx ring.

   **-i**     queries  the  specified  ethernet  device  for associated driver
          information.

   **-d**     retrieves and prints a register dump for the specified  ethernet
          device.   When  raw  is  enabled, then it dumps the raw register
          data to stdout.

   **-e**     retrieves and prints an EEPROM dump for the  specified  ethernet
          device.   When raw is enabled, then it dumps the raw EEPROM data
          to stdout. The length and offset parameters allow  dumping  cer-
          tain portions of the EEPROM.  Default is to dump the entire EEP-
          ROM.

   **-E**     Changes EEPROM byte for the specified ethernet  device.   offset
          and value specify which byte and it’s new value.  Because of the
          persistent nature of writing to the  EEPROM,  a  device-specific
          magic key must be specified to prevent the accidental writing to
          the EEPROM.

   **-k**     queries the specified ethernet device for offload information.

   **-K**     change the offload parameters of the specified ethernet  device.

   **rx** **on**|**off**
          Specify if RX checksumming is enabled.

   **tx** **on**|**off**
          Specify if TX checksumming is enabled.

   **sg** **on**|**off**
          Specify if scatter-gather is enabled.

   **tso** **on**|**off**
          Specify if tcp segmentation offload is enabled.

   **-p**     initiates adapter-specific action intended to enable an operator
          to  easily  identify  the  adapter  by  sight.   typically  this
          involves  blinking  one  or  more  LEDs on the specific ethernet
          port.

   **N**      Length of time to perform phys-id, in seconds.

   **-r**     restarts auto-negotiation on the specified ethernet  device,  if
          auto-negotiation is enabled.

   **-S**     queries  the  specified ethernet device for NIC- and driver-spe-
          cific statistics.

   **-t**     executes adapter selftest on the specified ethernet device. Pos-
          sible test modes are:

   **offline**|**online**
          defines  test  type: **offline** (default) means to perform full set
          of tests possibly causing normal operation  interruption  during
          the  tests,  **online** means to perform limited set of tests do not
          interrupting normal adapter operation.

   **-s**     option allows changing some or all  settings  of  the  specified
          ethernet  device.   All  following  options only apply if **-s** was
          specified.

   **speed** **10**|**100**|**1000**
          Set speed in Mb/s.  **ethtool** with single argument will  show  you
          the supported device speeds.

   **duplex** **half**|**full**
          Set full or half duplex mode.

   **port** **tp**|**aui**|**bnc**|**mii**
          Select device port.

   **autoneg** **on**|**off**
          Specify  if autonegotiation is enabled. In the usual case it is,
          but might cause some problems with some network devices, so  you
          can turn it off.

   **phyad** _N_
          PHY address.

   **xcvr** **internal**|**external**
          Select  transceiver  type.  Currently only internal and external
          can be specified, in the future further types might be added.

   **wol** **p**|**u**|**m**|**b**|**a**|**g**|**s**|**d**...
          Set Wake-on-LAN options.  Not all  devices  support  this.   The
          argument  to  this  option  is a string of characters specifying
          which options to enable.
          **p**  Wake on phy activity
          **u**  Wake on unicast messages
          **m**  Wake on multicast messages
          **b**  Wake on broadcast messages
          **a**  Wake on ARP
          **g**  Wake on MagicPacket(tm)
          **s**  Enable SecureOn(tm) password for MagicPacket(tm)
          **d**  Disable (wake on nothing).  This option clears  all  previous
             options.

   **sopass** _xx_**:**_yy_**:**_zz_**:**_aa_**:**_bb_**:**_cc_
          Set the SecureOn(tm) password.  The argument to this option must
          be 6 bytes in ethernet MAC hex format (_xx_**:**_yy_**:**_zz_**:**_aa_**:**_bb_**:**_cc_).

   **msglvl** _N_
          Set the driver message level. Meanings differ per driver.&lt;/pre&gt;
</code></pre><p>&nbsp;</p>
]]></content>
    
    
      <category term="Linux" scheme="http://www.succw.com/tags/Linux/"/>
    
      <category term="运维" scheme="http://www.succw.com/categories/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Which VMware network settings to adjust to troubleshoot VM packet loss]]></title>
    <link href="http://www.succw.com/which-vmware-network-settings-to-adjust-to-troubleshoot-vm-packet-loss/"/>
    <id>http://www.succw.com/which-vmware-network-settings-to-adjust-to-troubleshoot-vm-packet-loss/</id>
    <published>2013-04-26T03:03:10.000Z</published>
    <updated>2014-01-15T03:25:53.000Z</updated>
    <content type="html"><![CDATA[<p>Even well-designed <a href="http://searchnetworking.techtarget.com/tip/vSphere-networking-tools-Gaining-control-of-virtualization" target="_blank">VMware networking</a> will encounter virtualization-specific problems, like high packet loss in a virtual machine. Appropriate tweaks to the VMware network settings can resolve high packet loss without troubleshooting the guest operating system.</p>
<p>A normal <a href="http://searchnetworking.techtarget.com/definition/Ethernet" target="_blank">Ethernet network connector</a> should rarely let numerous packets drop ?there should be no more than a few dropped packets for every 100,000 packets received or transmitted successfully (Figure 1). On a Linux virtual machine (<a href="http://searchservervirtualization.techtarget.com/definition/virtual-machine" target="_blank">VM</a>), this statistic is easily monitored with the ifconfig command.</p>
<p><div><a href="http://cdn.ttgtmedia.com/rms/onlineImages/0413_svm_packetloss-1.png" target="_blank"><img src="http://cdn.ttgtmedia.com/rms/onlineImages/0413_svm_packetloss-1.png" alt=""></a></p>
<div>

<p>Figure 1. Normally, hardly any packets should drop on an Ethernet network card.</p>
<p></div>
</div>
On a VM with a <a href="http://searchnetworking.techtarget.com/definition/burst" target="_blank">bursty network</a> traffic pattern, significant packet loss may occur, requiring a fix within the VM&#39;s network settings. First, verify that the VM uses the VMXNET3 driver for the virtual network card. If this is the case, on a Linux host, high packet loss occurs when large data files are sent over high-bandwidth networks, and in certain other situations. Remediate the situation by disabling receive and transmit checksums. You&#39;ll add risk, as these checksums normally close out erroneous packets. Since errors on a typical Ethernet network card are below one on a million, the risk level is low.</p>
<p>Use the <a href="http://searchenterpriselinux.techtarget.com/Linux-tools" target="_blank">Linux ethtool utility</a> to switch off receive and transmit checksums in the VMware network settings, starting with ethtool as root from the command line. To switch these checksum features off for the network card eth0, for example, the command would readethtool --offload eth0 rx off tx off. If this works, open the configuration file for your network card -- /etc/sysconfig/network/ifcfg-eth0 on SUSE or /etc/sysconfig/network-scripts/ifcfg-eth0 on Red Hat -- and change the ETHTOOL_OPTIONS parameter to ETHTOOL_OPTIONS=&#39;--offload eth0 rx off tx off&#39;.</p>
<p>If you&#39;re still troubleshooting packet loss, try increasing the receive ring buffer size via the ethtool utility. By default, this buffer is set to 256, but the maximum you can use is 4096. Reset the ring buffer size to 512, using ethtool -G eth0 512. If this doesn&#39;t give you the required result, try a higher value.</p>
<p>High packet loss on a Windows VM calls for a change to network settings on the VMXNET3 driver. From Device Manager, right click the VMXNET3 driver and select Properties. The Advanced tab has two parameters: Small RX Buffers and RX Ring #1 Size. Increase the value of these parameters a bit and test whether this yields any improvement. Incrementally increase the value until you resolve the loss.</p>
<p>In most cases, these fixes will decrease the number of packets dropped in virtual machines. If adjusting the network settings fails, you&#39;re probably facing another problem caused by other performance-related factors in the VM, not the VMware network settings between the VM and ESXi platform. Consult an expert in the guest operating system, as there are many parameters that you can tune for performance. Beware of tuning the wrong parameters, which could have a strong negative impact on the VM.</p>
<p>摘自：<a href="http://searchvmware.techtarget.com/" target="_blank"><a href="http://searchvmware.techtarget.com">http://searchvmware.techtarget.com</a></a></p>
]]></content>
    
    
      <category term="VMware" scheme="http://www.succw.com/tags/VMware/"/>
    
      <category term="VMware" scheme="http://www.succw.com/categories/VMware/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[VMware Capacity Planner (VCP)]]></title>
    <link href="http://www.succw.com/vmware-capacity-planner-vcp/"/>
    <id>http://www.succw.com/vmware-capacity-planner-vcp/</id>
    <published>2013-04-26T02:47:40.000Z</published>
    <updated>2014-01-15T03:25:44.000Z</updated>
    <content type="html"><![CDATA[<p>VMware Capacity Planner is a tool that collects information on an IT infrastructure&#39;s resource usage and compares it to industry-average data.</p>
<p>VMware and its partners offer the Capacity Planner as a service to help IT departments plan virtualization deployments and optimize hardware resources such as <a href="http://whatis.techtarget.com/definition/server" target="_blank">servers</a> and <a href="http://searchstorage.techtarget.com/definition/storage" target="_blank">storage</a>. VMware Capacity Planner can help an organization determine what server consolidation rates it will achieve with <a href="http://searchservervirtualization.techtarget.com/definition/virtualization" target="_blank">virtualization</a>, and discover ways to standardize and reduce the hardware footprint in a <a href="http://searchdatacenter.techtarget.com/definition/data-center" target="_blank">data center</a>. The tool also discovers capacity utilization trends and can help set benchmarks.</p>
<p>VMware trains partners on VMware Capacity Planner, and the product is free to these authorized users. Main competitors to the tool include VKernel&#39;s Capacity Analyzer and Tek-Tools&#39; Profiler Suite. IT shops that want to avoid partnering on their capacity assessment can use a less-powerful tool from VMware: vCenter Guided Consolidation.</p>
<p>摘自：<a href="http://searchvmware.techtarget.com/" target="_blank"><a href="http://searchvmware.techtarget.com">http://searchvmware.techtarget.com</a></a></p>
]]></content>
    
    
      <category term="VMware" scheme="http://www.succw.com/tags/VMware/"/>
    
      <category term="VMware" scheme="http://www.succw.com/categories/VMware/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[选型：VMware认证 哪一种最适合你？]]></title>
    <link href="http://www.succw.com/%E9%80%89%E5%9E%8B%EF%BC%9Avmware%E8%AE%A4%E8%AF%81-%E5%93%AA%E4%B8%80%E7%A7%8D%E6%9C%80%E9%80%82%E5%90%88%E4%BD%A0%EF%BC%9F/"/>
    <id>http://www.succw.com/选型：vmware认证-哪一种最适合你？/</id>
    <published>2013-04-24T04:26:15.000Z</published>
    <updated>2014-01-15T03:19:05.000Z</updated>
    <content type="html"><![CDATA[<p>来源：TechTarget中国</p>
<p><table width="100%" border="0" cellspacing="0" cellpadding="6" align="center"></p>
<p><tbody></p>
<p><tr></p>
<p><td>摘要：过去，VMware只有一种认证：VMware 认证资格(VCP)。成为VCP是很基础的；你不得不参加被认可的培训班，之后通过考试。假如你以足够高的分数通过VCP考试，将会有资格成为VMware Certified Instructor (VCI)。</td>
</tr>
</tbody>
</table>
现在有更多的VMware认证，因此你可能怀疑，哪一种VMware认证对于我来说是最适合的，为了帮助你做决定，本文中覆盖了各种的认证和需求，并且它们会完善你的<a href="http://www.jifang360.com/news/greenIT/" target="_blank">IT</a>职业生涯。</p>
<p>该VMware认证证明了你具有操作vSphere的基本技能和知识。为了成为VCP，你一定要参加一个具有权威性和前沿讲师的培训班（在线的培训班一般不被认可）</p>
<p>这里有三种类型的课程：</p>
<p>VMwarevSphere：安装，配置，管理</p>
<p>VMwarevSphere：快速跟踪</p>
<p>VMwarevSphere：故障诊断排除</p>
<p>完成课程学习之后，你可以参加VCP测试，是一种不集中于特殊领域的一般性考试，它的目标是使用vSphere的群体，例如顾问，用户或者合作伙伴。假如你没有通过，再一次参加考试之前还有七天的时间。</p>
<p>下一个VMware认证的水平，是VMware认证的高级资格，主要有两个方向的分支：<a href="http://www.jifang360.com/news/sjzx/" target="_blank">数据中心</a>的管理和基础结构的设计。</p>
<p><strong>VCAP–数据中心设计(VCAP-DCD)</strong></p>
<p>获得VCAP-DCD的认证，证明具有vSphere基本结构设计的知识，这种认证能集中地满足vSphere所有基础设施体系结构的设计需求，包括<a href="http://www.jifang360.com/news/cunchu/" target="_blank">存储</a>和网络互联以及和其他组件的整合--包括内部和外部的虚拟设备。</p>
<p>和VCAP-DCA一样，参加VCAP-DCD考试只需要VCP认证。推荐vSphere的设计进修课程，但不是必需的，申请10天后可再次参加考试。</p>
<p>通过VCAP的这两个考试之后，将会有资格参加VMware最后的认证，最高端的VMware认证设计专家(VCDX)。</p>
<p><strong>　VCAP:数据中心管理(VCAP-DCA)</strong></p>
<p>VCAP-DCA认证集中于vSphere的管理和可支持的技能，它超越了VCP的基础知识，并且面向处理较大规模和更复杂的vSphere基础机构。VCAP-DCA集中于实施、管理、保持和管理vSphere，用scripting tools进行故障排除和自动化设置，例如PowerCLI。</p>
<p>在参加VCAP-DCA考试之前，你需要VCP认证。培训班不是必须的，但是VMware推荐对VCPs感兴趣才能更好的为考试准备。假如你没有通过考试，可以10天后再参加。</p>
<p><strong>VMware认证设计专家</strong></p>
<p>为了获得这个认证，需要对vSphere基本结构设计有最佳的技能。VCDX-认证专家们是vSphere的精通者。通过VCAP-DCA和VCAP-DCD的考试是学习VCDX的前提，但是这种认证不重在基本考试，而是必须应用VMware。</p>
<p>假如VMware接受你的申请，你需要提交你选择方案的设计和实施计划——不管是真实的还是假设的。该设计文档需要包括体系结构图表和可支持的文档。假如你的设计被认可，你必须在审查委员会前辩护。假如委员会成员对你的设计和辩护满意，之后就会得到VCDX的认证。</p>
<p><strong>选择正确的VMware认证
</strong>
VCP是一种必需的认证，因为它是其他VMware认证的基础，成为VCP证明你具有操作vSphere的基础能力，并且一般是那些想从事与vSphere相关好工作人们的必需条件。</p>
<p>许多公司，特别是咨询公司，对没有VCP认证的申请人不予考虑。但VCPs不仅仅是管理员和体系结构设计者，技术销售人员。还有在其他工作岗位会用到vSphere的支持人员也需要获得VCP认证。</p>
<p>其他的VMware认证适合于那些想在VCP领域内有卓越突出的人们。因为VCAP是一种高级资格的认可，有一个或者两个这样的VMware认证，高新职位将会敞开大门。VCAP认证对于咨询公司想证明他们具有高水平的员工是有帮助的。</p>
<p>这两个VCAP认证有所不同，依据你的工作角色而选择，假如你渴望VCDX认证，那么两个都需要，假如你不想尝试获得VCDX，获得这两个VCAP认证仍能证明你已经掌握了这两个领域，因此你可以加入精英的行列。</p>
<p>极少人能获得VCDX认证。该过程需要难以估量的工作和计划，它不是简单的考试，而是真正的项目，会得到该领域内尖端人员的评断。但努力后的回报是值得的，你将被看成顶端的vSphere专家。</p>
<p>VMware认证需要付出。在每一个连续阶段中，当获得VMware认证越来越困难的时候，走的越远，更多工作机会的大门将会敞开。</p>
]]></content>
    
    
      <category term="VMware" scheme="http://www.succw.com/tags/VMware/"/>
    
      <category term="VMware" scheme="http://www.succw.com/categories/VMware/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Configuration Maximums]]></title>
    <link href="http://www.succw.com/configuration-maximums/"/>
    <id>http://www.succw.com/configuration-maximums/</id>
    <published>2013-04-08T07:37:31.000Z</published>
    <updated>2014-01-15T03:21:11.000Z</updated>
    <content type="html"><![CDATA[<p>You can find all the configuration maximums for vSphere 5 in the Configuration
Maximums Guide on the VMware site at <a href="http://www.vmware.com/pdf/vsphere5/r50/vsphere-50-configuration-maximums.pdf" target="_blank"><a href="http://www.vmware.com/pdf/vsphere5/r50/vsphere-50-configuration-maximums.pdf">http://www.vmware.com/pdf/vsphere5/r50/vsphere-50-configuration-maximums.pdf</a></a></p>
]]></content>
    
    
      <category term="VMware" scheme="http://www.succw.com/tags/VMware/"/>
    
      <category term="VMware" scheme="http://www.succw.com/categories/VMware/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[修改VMware vSphere密码]]></title>
    <link href="http://www.succw.com/%E4%BF%AE%E6%94%B9vmware-vsphere%E5%AF%86%E7%A0%81/"/>
    <id>http://www.succw.com/修改vmware-vsphere密码/</id>
    <published>2013-03-14T03:07:13.000Z</published>
    <updated>2014-01-15T03:19:25.000Z</updated>
    <content type="html"><![CDATA[<p>1、挂载Exsi分区
2、找到state.tgz
3、解压state.tgz
4、密码文件存储在state.tgz/local.tgz/etc/shadow
5、将密码删除，保存，并打包拷贝替换原state.tgz</p>
]]></content>
    
    
      <category term="VMware" scheme="http://www.succw.com/tags/VMware/"/>
    
      <category term="运维" scheme="http://www.succw.com/categories/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Insufficient system resources (Exchange 2010)]]></title>
    <link href="http://www.succw.com/insufficient-system-resources-exchange-2010/"/>
    <id>http://www.succw.com/insufficient-system-resources-exchange-2010/</id>
    <published>2013-03-06T11:10:47.000Z</published>
    <updated>2014-01-15T03:22:45.000Z</updated>
    <content type="html"><![CDATA[<p>said: 452 4.3.1 Insufficient system resources (in reply to MAIL FROM command)</p>
<p>这个提示是说，Exchange服务器资源不够。</p>
<p>进入exchange服务器后，发现硬盘空间不到4G.</p>
<p>exchange之前不是我弄得，发现数据库及数据库日志放在c盘的，当时就无语了...</p>
<p>赶紧迁移数据库....</p>
<p>&nbsp;</p>
<p>Troubleshooting MSExchangeTransport Service Events</p>
<p><a href="http://technet.microsoft.com/en-us/library/bb397220.aspx" target="_blank"><a href="http://technet.microsoft.com/en-us/library/bb397220.aspx">http://technet.microsoft.com/en-us/library/bb397220.aspx</a></a></p>
<p>可采用以下方法临时解决</p>
<p>进入Exchange 2010的安装文件夹%Program Files\Microsoft\Exchange Server\v14\Bin,打开EdgeTransport.exe.config文件,找到</p>
<p>&lt;add key=&quot;EnableResourceMonitoring&quot; value=&quot;True&quot;/&gt;</p>
<p>将其更改为</p>
<p>&lt;add key=&quot;EnableResourceMonitoring&quot; value=&quot;False&quot;/&gt;</p>
<p>然后重新启动Transport Service</p>
<p>&nbsp;</p>
]]></content>
    
    
      <category term="Windows" scheme="http://www.succw.com/tags/Windows/"/>
    
      <category term="运维" scheme="http://www.succw.com/categories/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[wordpress固定链接]]></title>
    <link href="http://www.succw.com/wordpress%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5/"/>
    <id>http://www.succw.com/wordpress固定链接/</id>
    <published>2013-01-23T10:16:25.000Z</published>
    <updated>2014-01-15T03:26:02.000Z</updated>
    <content type="html"><![CDATA[<p>WordPress 默认使用带有很多问号和数字的 <abbr title="Universal Resource Locator">URL</abbr>，但 WordPress 允许自定义链接形式，以提高美感、可用性和向前兼容性。您可<a href="http://codex.wordpress.org/zh-cn:%E4%BD%BF%E7%94%A8%E5%9B%BA%E5%AE%9A%E9%93%BE%E6%8E%A5">阅读参考资料</a>以了解更多。</p>
<p>个人配置：</p>
<blockquote>
<p><a href="http://www.succw.com/%category%/%postname%">http://www.succw.com/%category%/%postname%</a>
在Nginx.conf中添加
location / {</p>
<p>try_files $uri $uri/ /index.php?p=$request_uri;</p>
<p>}</p>
</blockquote>
]]></content>
    
    
      <category term="other" scheme="http://www.succw.com/categories/other/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ Linux 系统运维及工具]]></title>
    <link href="http://www.succw.com/linux-%E7%B3%BB%E7%BB%9F%E8%BF%90%E7%BB%B4%E5%8F%8A%E5%B7%A5%E5%85%B7/"/>
    <id>http://www.succw.com/linux-系统运维及工具/</id>
    <published>2012-11-22T02:16:21.000Z</published>
    <updated>2014-01-15T03:23:22.000Z</updated>
    <content type="html"><![CDATA[<blockquote>
<div>许多实用程序可以对事项进行报告。例如，who、finger、ls、ps 以及其它实用程序可以生成简单的最终用户报告。在某些情况下，这些报告有助于系统管理。本节介绍的实用程序可以产生更多的详细报告，可以为系统管理任务提供更多的帮助。Linux 还有许多其它报告实用程序，比如 sysstat 包中的 sar（系统活动报告）、iostat（输入 / 输出和 CPU 统计）和 mpstat（处理器统计），netstat（网络报告，位于 net-tools 包）和 nfsstat（NFS 统计，位于 nfs-utils 包）。</div>
<div></div>
<div><strong>使用 vmstat 掌握虚拟内存统计信息</strong></div>
<div>vmstat 实用程序（虚拟内存统计，位于 procps 包）生成包含磁盘和 CPU 活动数据的虚拟内存信息。以下示例显示了每隔 1 秒的 2个迭代（参数 1 2）的虚拟内存统计信息。第一行包括自系统启动以来的时间，后续每行包括自上一行以来的时间间隔。</div>
<div>$ vmstat 1 2</div>
<div>procs -----------memory---------- ---swap-- -----io---- --system-- ----cpu----</div>
<div>r b swpd free buff cache si so bi bo in cs us sy id wa</div>
<div>0 2 0 684328 33924 219916 0 0 430 105 1052 134 2 4 86 8</div>
<div>0 2 0 654632 34160 248840 0 0 4897 7683 1142 237 0 5 0 95</div>
<div></div>
<div>以下列表解释了由 vmstat 显示的字段：</div>
<div>procs 进程信息</div>
<div>r 等待中可运行的进程数</div>
<div>b 阻塞的进程数 ( 不间断睡眠中 )</div>
<div>memory内存信息（以千字节为单位）</div>
<div>swpd 使用的虚拟内存</div>
<div>free 空闲内存</div>
<div>buff 用作缓冲区的内存</div>
<div>cache用作高速缓存的内存</div>
<div>swap系统分页活动（每秒千字节）</div>
<div>si 从磁盘交换到内存</div>
<div>so 使内存换出到磁盘</div>
<div>io 系统 I/O 活动（每秒块）</div>
<div>bi 从块设备接收的块</div>
<div>bo 发送到块设备的块</div>
<div>system（单位是每秒）</div>
<div>in 中断（包括时钟）</div>
<div>cs 上下文开关</div>
<div>cpu每个状态所耗费的总 CPU 时间的百分比</div>
<div>us 用户 ( 非内核 )</div>
<div>sy 系统（内核）</div>
<div>id 空闲</div>
<div>wa 等待 I/O</div>
<div>st 从虚拟机提取（仅在虚拟机上）</div>
<div></div>
<div><strong>使用 top 列出使用资源最多的进程</strong></div>
<div></div>
<div>top 实用程序是 ps 的有益补充。最起码，top 显示的系统信息包括使用 CPU 密集的进程。 top 实用程序可以定期自我更新，输入 q 即可退出。虽然可以使用命令行选项，但使用交互式命令往往更有帮助。</div>
<div>命令  功能</div>
<div>hor ? 显示帮助画面。</div>
<div>k (kill) 提示 PID 号和信号类型，并发送 signal.Defaults 进程到信号 15(SIGTERM)，只有当 15 不起作用时才指定 9 (SIGKILL)。</div>
<div>F  显示一个页面，允许指定一个排序字段。</div>
<div>f   显示一个页面，允许指定 top 显示的字段。</div>
<div>o  显示一个页面，允许指定字段的显示顺序。</div>
<div>q  退出 top。</div>
<div>s  以秒为单位提示更新间隔时间。使用 0（零）表示持续更新。</div>
<div>SPACE. 立即更新显示。</div>
<div>W  编写名为 ~/.toprc的启动文件，以便在下一次启动 top，它使用与当前相同的参数。</div>
<div></div>
</blockquote>
]]></content>
    
    
      <category term="Linux" scheme="http://www.succw.com/tags/Linux/"/>
    
      <category term="运维" scheme="http://www.succw.com/categories/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
</feed>
